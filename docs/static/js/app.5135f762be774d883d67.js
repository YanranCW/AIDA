webpackJsonp([1],[,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"eventBus",function(){return V});var i=n(13),o=n(79),a=n(81),s=n(196),r=n(220),c=n.n(r),l=n(226),u=n.n(l),p=n(234),v=n.n(p),d=n(239),f=n.n(d),h=n(242),g=n.n(h),m=n(72),_=n.n(m),b=n(10),C=n.n(b),w=n(260),k=n.n(w),y=n(266),S=n.n(y),x=n(12),O=n.n(x),j=n(271),A=n.n(j),T=n(276),I=n.n(T),W=n(285),P=n.n(W),L=n(288),D=n.n(L),E=n(293),R=n.n(E),M=n(302),N=n.n(M),$=n(305),F=(n.n($),n(306));n.n(F);i.a.use(c.a,{components:{VApp:u.a,VNavigationDrawer:v.a,VFooter:f.a,VList:g.a,VBtn:_.a,VIcon:C.a,VGrid:k.a,VToolbar:S.a,transitions:O.a,Vcard:A.a,VMenu:I.a,VDivider:P.a,VStepper:D.a,VSlider:R.a,VDialog:N.a}}),i.a.config.productionTip=!1;var V=new i.a;new i.a({el:"#app",router:a.a,store:s.a,components:{App:o.default},template:"<App/>"})},,,,,,,,,,,,,,,,,,,,function(t,e){},,,function(t,e){},function(t,e){},function(t,e,n){"use strict";var i=n(89),o=n(150),a=n(166),s=n(169),r=n(172);e.a={components:{"app-tools":i.a,"app-studio":o.a,"app-stepper":a.a,"app-canvas":s.a,"app-toolbar":r.a}}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(1),s=n(119),r=n(125),c=n(128),l=n(131),u=n(134),p=n(137),v=n(140),d=n(143),f=n(146);e.a={components:{"app-circle":s.a,"app-rectangle":r.a,"app-pen":c.a,"app-move":u.a,"app-pan":p.a,"app-node":v.a,"app-pencil":l.a,"app-count":d.a,"app-delete":f.a},data:function(){return{activeTool:"pan"}},computed:o()({},Object(a.d)({activeStep:function(t){return t.config.activeStep},tools:function(t){return t.config.tools}})),methods:o()({},Object(a.c)(["getConfigStepTools"]))}},,,,,,function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(4),s=n.n(a),r=n(8),c=n(1);e.a={props:{active:{type:Boolean,default:!1}},data:function(){return{toolCircle:null,strokeWidth:400,radius:2e3}},computed:o()({},Object(c.d)({paperScope:function(t){return t.annotation.paperScope},viewportZoom:function(t){return t.image.viewer.viewport.getZoom(!0)},imageWidth:function(t){return t.image.viewer.world.getItemAt(0).getContentSize().x},activeStep:function(t){return t.config.activeStep}})),created:function(){var t=this,e=function(e){t.toolCircle.minDistance=4*t.strokeWidth},n=function(e){t.toolCircle.minDistance=0,t.radius=t.calculateDistance(e.downPoint,e.point);var n=new s.a.Path.Line(e.downPoint,e.point);n.strokeColor=new s.a.Color({hue:220,saturation:.7,lightness:.5,alpha:1}),n.strokeWidth=t.strokeWidth,n.add(e.point),n.removeOn({drag:!0,down:!0,up:!0});var i=new s.a.Path.Circle(e.downPoint,t.radius);i.strokeColor=new s.a.Color({hue:220,saturation:.7,lightness:.5,alpha:1}),i.strokeWidth=t.strokeWidth,i.removeOn({drag:!0,down:!0,up:!0})},i=function(e){var n=new s.a.Path.Circle(e.downPoint,t.radius);n.strokeColor=new s.a.Color(t.getDefaultColor().stroke),n.strokeWidth=t.strokeWidth,n.fillColor=new s.a.Color(t.getDefaultColor().fill),n.data.countable=!0,r.eventBus.$emit("updateMarkerCount")};this.toolCircle=new s.a.Tool,this.toolCircle.onMouseDown=e,this.toolCircle.onMouseDrag=n,this.toolCircle.onMouseUp=i},methods:o()({},Object(c.b)(["prepareCanvas"]),Object(c.c)(["getDefaultColor"]),{initialiseTool:function(){this.prepareCanvas(),this.toolCircle.activate(),this.radius=this.imageWidth/(100*this.viewportZoom),this.strokeWidth=this.imageWidth/(500*this.viewportZoom)},calculateDistance:function(t,e){var n=t.x,i=t.y,o=e.x,a=e.y;return Math.sqrt(Math.pow(o-n,2)+Math.pow(a-i,2))}})}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(4),s=n.n(a),r=n(1);e.a={props:{active:{type:Boolean,default:!1}},data:function(){return{toolRect:null,strokeWidth:400}},computed:o()({},Object(r.d)({paperScope:function(t){return t.annotation.paperScope},viewportZoom:function(t){return t.image.viewer.viewport.getZoom(!0)},imageWidth:function(t){return t.image.viewer.world.getItemAt(0).getContentSize().x}})),created:function(){var t=this,e=function(e){var n=new s.a.Path.Rectangle(e.downPoint,e.point);n.strokeColor=new s.a.Color({hue:220,saturation:.7,lightness:.5,alpha:1}),n.strokeWidth=t.strokeWidth,n.removeOn({drag:!0,up:!0})},n=function(e){var n=new s.a.Path.Rectangle(e.downPoint,e.point);n.strokeColor=new s.a.Color(t.getDefaultColor().stroke),n.fillColor=new s.a.Color(t.getDefaultColor().fill),n.strokeWidth=t.strokeWidth};this.toolRect=new s.a.Tool,this.toolRect.onMouseDrag=e,this.toolRect.onMouseUp=n},methods:o()({},Object(r.b)(["prepareCanvas"]),Object(r.c)(["getDefaultColor"]),{initialiseTool:function(){this.prepareCanvas(),this.toolRect.activate(),this.strokeWidth=this.imageWidth/(500*this.viewportZoom)}})}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(4),s=n.n(a),r=n(1);e.a={props:{active:{type:Boolean,default:!1}},data:function(){return{toolPen:null,strokeWidth:400,hitOptions:null,path:null}},computed:o()({},Object(r.d)({paperScope:function(t){return t.annotation.paperScope},viewportZoom:function(t){return t.image.viewer.viewport.getZoom(!0)},imageWidth:function(t){return t.image.viewer.world.getItemAt(0).getContentSize().x}})),created:function(){var t=this,e=function(e){t.path&&t.path.data.active||(t.path=t.newPath(),t.path.data.active=!0);var n=t.path.hitTest(e.point,t.hitOptions);e.modifiers.option?(t.path.closed=!0,t.path.smooth(),t.path.selected=!1,t.path.data.active=!1):n&&n.segment===t.path.firstSegment?(t.path.closed=!0,t.path.fillColor=new s.a.Color(t.getDefaultColor().fill),t.path.smooth(),t.path.selected=!1,t.path.data.active=!1):n&&n.segment===t.path.lastSegment?(t.path.selected=!1,t.path.data.active=!1):(t.path.add(e.point),t.path.smooth())},n=function(e){var n=t.paperScope.project.hitTest(e.point,t.hitOptions);n?n.segment===n.item.firstSegment?(t.path.closed=!0,t.path.selected=!1):n.segment!==n.item.firstSegment&&n.segment!==n.item.lastSegment||(t.path.selected=!1):t.path&&t.path.data.active&&(t.path.selected=!0,t.path.closed=!1)};this.toolPen=new s.a.Tool,this.toolPen.onMouseDown=e,this.toolPen.onMouseMove=n},methods:o()({},Object(r.b)(["prepareCanvas"]),Object(r.c)(["getDefaultColor"]),{initialiseTool:function(){this.prepareCanvas(),this.toolPen.activate(),this.strokeWidth=this.imageWidth/(500*this.viewportZoom),this.hitOptions={segments:!0,tolerance:5*this.strokeWidth}},newPath:function(){var t=new s.a.Path;return t.strokeColor=new s.a.Color(this.getDefaultColor().stroke),t.strokeWidth=this.strokeWidth,t.selected=!0,t}})}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(4),s=n.n(a),r=n(1);e.a={props:{active:{type:Boolean,default:!1}},data:function(){return{toolPencil:null,strokeWidth:400,hitOptions:null,path:null}},computed:o()({},Object(r.d)({paperScope:function(t){return t.annotation.paperScope},viewportZoom:function(t){return t.image.viewer.viewport.getZoom(!0)},imageWidth:function(t){return t.image.viewer.world.getItemAt(0).getContentSize().x}})),created:function(){var t=this,e=function(e){t.path&&t.path.data.active||(t.path=t.newPath(),t.path.data.active=!0)},n=function(e){t.path.add(e.point);var n=t.path.hitTest(e.point,t.hitOptions);n&&n.segment===t.path.firstSegment?(t.path.closed=!0,t.path.fillColor=new s.a.Color(t.getDefaultColor().fill)):(t.path.closed=!1,t.path.fillColor=new s.a.Color({hue:200,saturation:.7,lightness:.5,alpha:0}))},i=function(e){var n=t.path.hitTest(e.point,t.hitOptions);n&&n.segment===t.path.firstSegment&&(t.path.closed=!0,t.path.fillColor=new s.a.Color(t.getDefaultColor().fill)),t.path.selected=!1,t.path.simplify(),t.path.data.active=!1};this.toolPencil=new s.a.Tool,this.toolPencil.onMouseDown=e,this.toolPencil.onMouseDrag=n,this.toolPencil.onMouseUp=i},methods:o()({},Object(r.b)(["prepareCanvas"]),Object(r.c)(["getDefaultColor"]),{initialiseTool:function(){this.prepareCanvas(),this.toolPencil.activate(),this.strokeWidth=this.imageWidth/(500*this.viewportZoom),this.hitOptions={segments:!0,tolerance:5*this.strokeWidth},this.toolPencil.minDistance=5*this.strokeWidth},newPath:function(){var t=new s.a.Path;return t.strokeColor=new s.a.Color(this.getDefaultColor().stroke),t.strokeWidth=this.strokeWidth,t.selected=!0,t}})}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(4),s=n.n(a),r=n(8),c=n(1);e.a={props:{active:{type:Boolean,default:!1}},data:function(){return{toolMove:null,selectOptions:null,strokeWidth:null}},computed:o()({},Object(c.d)({paperScope:function(t){return t.annotation.paperScope},viewportZoom:function(t){return t.image.viewer.viewport.getZoom(!0)},imageWidth:function(t){return t.image.viewer.world.getItemAt(0).getContentSize().x}}),{color:function(){return this.active?"blue darken-2":"grey darken-1"}}),created:function(){var t=this,e=null,n=[],i=null,o="",a=function(a){if(e=t.paperScope.project.hitTest(a.point,t.selectOptions),!e||"bounds"===e.type||"fill"!==e.type&&"stroke"!==e.type&&"segment"!==e.type?e&&"bounds"===e.type?o="transform":(n=[],o="select"):(i&&i.hitTest(a.point,t.selectOptions)||(a.modifiers.shift?n.push(e.item):n=[e.item]),o="move"),t.paperScope.project.deselectAll(),i&&(i.selected=!1,i.bounds.selected=!1,i=null),n.length>0){for(var r in n)if(n[r].data.selectWith)for(var c in n[r].data.selectWith)n.push(n[r].data.selectWith[c]);i=new s.a.Group(n),i.selected=!0,i.bounds.selected=!0}},c=function(a){if("select"===o){var r=new s.a.Shape.Rectangle(a.downPoint,a.point);if(r.strokeColor="#4D88D4",r.fillColor="#A3C5E8",r.opacity=.3,r.strokeWidth=t.strokeWidth,r.removeOn({drag:!0,down:!0,up:!0}),n=t.paperScope.project.getItems({class:"Path",inside:r.bounds}),t.paperScope.project.deselectAll(),i&&(i.selected=!1,i.bounds.selected=!1,i=null),n.length>0){for(var c in n)if(n[c].data.selectWith)for(var l in n[c].data.selectWith)n.push(n[c].data.selectWith[l]);i=new s.a.Group(n),i.selected=!0}}else if("move"===o)i.position=i.position.add(a.delta);else if("transform"===o){var u=null,p=null,v=null;e&&"top-left"===e.name?(u=a.point.x-i.bounds.topRight.x,p=a.point.y-i.bounds.bottomLeft.y,v=i.bounds.bottomRight):e&&"top-right"===e.name?(u=a.point.x-i.bounds.topLeft.x,p=a.point.y-i.bounds.bottomRight.y,v=i.bounds.bottomLeft):e&&"bottom-right"===e.name?(u=a.point.x-i.bounds.bottomLeft.x,p=a.point.y-i.bounds.topRight.y,v=i.bounds.topLeft):e&&"bottom-left"===e.name&&(u=a.point.x-i.bounds.bottomRight.x,p=a.point.y-i.bounds.topLeft.y,v=i.bounds.topRight);var d=Math.abs(u/i.bounds.width),f=Math.abs(p/i.bounds.height);i.scale(d,f,v)}},l=function(e){i&&(i.bounds.selected=!0),o="",r.eventBus.$emit("selectionChanged",t.paperScope.project.selectedItems),r.eventBus.$emit("updateMarkerCount")},u=function(e){if(i&&i.hitTest(e.point,t.selectOptions)){var n=i.hitTest(e.point,t.selectOptions);"bottom-right"===n.name||"top-left"===n.name?t.paperScope.view.element.style.cursor="nwse-resize":"bottom-left"===n.name||"top-right"===n.name?t.paperScope.view.element.style.cursor="nesw-resize":"fill"===n.type&&(t.paperScope.view.element.style.cursor="move")}else t.paperScope.view.element.style.cursor="auto"},p=function(e){"backspace"!==e.key&&"delete"!==e.key||(t.paperScope.project.selectedItems&&t.paperScope.project.selectedItems.forEach(function(t){"Layer"!==t.className&&t.remove()}),r.eventBus.$emit("selectionChanged",t.paperScope.project.selectedItems),r.eventBus.$emit("updateMarkerCount"))};this.toolMove=new s.a.Tool,this.toolMove.onMouseDown=a,this.toolMove.onMouseDrag=c,this.toolMove.onMouseUp=l,this.toolMove.onMouseMove=u,this.toolMove.onKeyUp=p},methods:o()({},Object(c.b)(["prepareCanvas"]),{initialiseTool:function(){this.prepareCanvas(),this.toolMove.activate(),this.strokeWidth=this.imageWidth/(500*this.viewportZoom);var t=3*this.strokeWidth;this.selectOptions={segments:!0,stroke:!0,bounds:!0,handles:!0,fill:!0,tolerance:t}}})}},function(t,e,n){"use strict";e.a={props:{active:{type:Boolean,default:!1}},data:function(){return{toolPan:null}},mounted:function(){this.initialiseTool()},methods:{initialiseTool:function(){document.getElementById("paper-canvas").setAttribute("class","pointers-no")}}}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(4),s=n.n(a),r=n(1);e.a={props:{active:{type:Boolean,default:!1}},data:function(){return{toolNode:null,hitOptions:null}},computed:o()({},Object(r.d)({paperScope:function(t){return t.annotation.paperScope},viewportZoom:function(t){return t.image.viewer.viewport.getZoom(!0)},imageWidth:function(t){return t.image.viewer.world.getItemAt(0).getContentSize().x}})),created:function(){var t=this,e=null,n=null,i=function(i){e=t.paperScope.project.hitTest(i.point,t.hitOptions),e?e.item.selected?"stroke"===e.type?n="adding-node":"segment"===e.type?(t.paperScope.project.deselectAll(),e.item.selected=!0,e.segment.selected=!0,e.segment.handleIn.selected=!0,e.segment.handleOut.selected=!0,n="adjusting-segment"):"handle-out"!==e.type&&"handle-in"!==e.type||(n="adjusting-handle"):(e.item.selected=!0,n="selecting"):t.paperScope.project.deselectAll()},o=function(t){e&&"adjusting-segment"===n?e.segment.point=e.segment.point.add(t.delta):e&&"handle-out"===e.type&&"adjusting-handle"===n?e.segment.handleOut=e.segment.handleOut.add(t.delta):e&&"handle-in"===e.type&&"adjusting-handle"===n&&(e.segment.handleIn=e.segment.handleIn.add(t.delta))};this.toolNode=new s.a.Tool,this.toolNode.onMouseDown=i,this.toolNode.onMouseDrag=o},methods:o()({},Object(r.b)(["prepareCanvas"]),{initialiseTool:function(){this.prepareCanvas(),this.toolNode.activate();var t=this.imageWidth/(100*this.viewportZoom);this.hitOptions={segments:!0,stroke:!0,handles:!0,fill:!0,tolerance:t}}})}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(4),s=n.n(a),r=n(8),c=n(1);e.a={props:{active:{type:Boolean,default:!1}},data:function(){return{toolCount:null,strokeWidth:400}},computed:o()({},Object(c.d)({paperScope:function(t){return t.annotation.paperScope},viewportZoom:function(t){return t.image.viewer.viewport.getZoom(!0)},imageWidth:function(t){return t.image.viewer.world.getItemAt(0).getContentSize().x}})),created:function(){var t=this;r.eventBus.$on("updateMarkerCount",function(){var e=t.paperScope.project.getItems({data:{type:"counter"}}),n=t.paperScope.project.getItems({className:"Path",data:{countable:!0}});for(var i in e){var o=0;for(var a in n)n[a].isInside(e[i].data.rect.bounds)&&(o+=1);e[i].content=o}});var e=function(e){var n=new s.a.Path.Rectangle(e.downPoint,e.point);n.strokeColor=new s.a.Color({hue:220,saturation:.7,lightness:.5,alpha:1}),n.strokeWidth=t.strokeWidth,n.removeOn({drag:!0,up:!0})},n=function(e){var n=new s.a.Path.Rectangle(e.downPoint,e.point);n.strokeColor=new s.a.Color({hue:46,saturation:1,lightness:.65,alpha:1}),n.strokeWidth=t.strokeWidth;var i=new s.a.PointText(n.bounds.topLeft);i.translate(3*t.strokeWidth,2*-t.strokeWidth),i.fillColor="black",i.fontSize=12*t.strokeWidth+"px",i.data.rect=n,i.data.type="counter",r.eventBus.$emit("updateMarkerCount");var o=i.handleBounds.topRight.add(4*t.strokeWidth,0),a=new s.a.Path.Rectangle(n.strokeBounds.topLeft,o);a.fillColor=n.strokeColor,a.moveBelow(i),n.data.selectWith=[a,i],i.data.selectWith=[n,a,i],a.data.selectWith=[i,n]};this.toolCount=new s.a.Tool,this.toolCount.onMouseDrag=e,this.toolCount.onMouseUp=n},methods:o()({},Object(c.b)(["prepareCanvas"]),{initialiseTool:function(){this.prepareCanvas(),this.toolCount.activate(),this.strokeWidth=this.imageWidth/(500*this.viewportZoom),this.paperScope.project.deselectAll()}})}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(4),s=n.n(a),r=n(8),c=n(1);e.a={props:{active:{type:Boolean,default:!1}},data:function(){return{toolDelete:null,selectOptions:null,strokeWidth:null}},computed:o()({},Object(c.d)({paperScope:function(t){return t.annotation.paperScope},viewportZoom:function(t){return t.image.viewer.viewport.getZoom(!0)},imageWidth:function(t){return t.image.viewer.world.getItemAt(0).getContentSize().x}})),created:function(){var t=this,e=null,n=[],i=null,o=function(o){if(e=t.paperScope.project.hitTest(o.point,t.selectOptions),n=!e||"fill"!==e.type&&"stroke"!==e.type&&"segment"!==e.type&&"bounds"!==e.type?[]:[e.item],t.paperScope.project.deselectAll(),i&&(i.selected=!1,i.bounds.selected=!1,i=null),n.length>0){for(var a in n)if(n[a].data.selectWith)for(var r in n[a].data.selectWith)n.push(n[a].data.selectWith[r]);i=new s.a.Group(n),i.selected=!0}},a=function(e){var o=new s.a.Shape.Rectangle(e.downPoint,e.point);if(o.strokeColor="#4D88D4",o.fillColor="#A3C5E8",o.opacity=.3,o.strokeWidth=t.strokeWidth,o.removeOn({drag:!0,down:!0,up:!0}),n=t.paperScope.project.getItems({class:"Path",inside:o.bounds}),t.paperScope.project.deselectAll(),i&&(i.selected=!1,i.bounds.selected=!1,i=null),n.length>0){for(var a in n)if(n[a].data.selectWith)for(var r in n[a].data.selectWith)n.push(n[a].data.selectWith[r]);i=new s.a.Group(n),i.selected=!0}},c=function(e){i&&i.remove(),r.eventBus.$emit("selectionChanged",t.paperScope.project.selectedItems),r.eventBus.$emit("updateMarkerCount")};this.toolDelete=new s.a.Tool,this.toolDelete.onMouseDown=o,this.toolDelete.onMouseDrag=a,this.toolDelete.onMouseUp=c},methods:o()({},Object(c.b)(["prepareCanvas"]),{initialiseTool:function(){this.prepareCanvas(),this.toolDelete.activate(),this.strokeWidth=this.imageWidth/(500*this.viewportZoom);var t=3*this.strokeWidth;this.selectOptions={segments:!0,stroke:!0,bounds:!0,handles:!0,fill:!0,tolerance:t}}})}},function(t,e,n){"use strict";var i=n(152),o=n(155),a=n(158);e.a={components:{"app-layers":i.a,"app-channels":o.a,"app-properties":a.a}}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(1);e.a={data:function(){return{editingLayer:null,beforeEditCache:null}},computed:o()({},Object(a.d)({activeLayer:function(t){return t.annotation.paperScope.project.activeLayer},layers:function(t){return t.annotation.paperScope.project.layers}})),mounted:function(){this.activeLayer.name||(this.activeLayer.name="Layer 1")},methods:o()({},Object(a.b)(["newLayer","exportLayerJSON","setActiveStepAndLayer"]),{editLayerName:function(t){this.beforeEditCache=t.name,this.editingLayer=t.id},finishedEdit:function(t){this.editingLayer&&(void 0===t.name?t.name="Untitled":t.name=t.name.trim(),this.editingLayer=null)},cancelEdit:function(t){this.editingLayer=null,t.name=this.beforeEditCache}})}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(1);e.a={computed:o()({},Object(a.d)({viewer:function(t){return t.image.viewer}}),Object(a.c)(["getChannels"]),{channelIcon:function(t){return t.visibility?"visibility":"visibility-off"}}),methods:o()({},Object(a.b)(["toggleChannelVisibility","setChannelVisibility"]))}},function(t,e,n){"use strict";var i=n(8),o=n(160);e.a={components:{"colour-picker":o.a},data:function(){return{numItems:0,groupFillColor:{style:"transparent",obj:{h:0,s:0,l:0,a:0}},groupStrokeWidth:"",groupStrokeColor:{style:"transparent",obj:{h:0,s:0,l:0,a:0}},color:"blue"}},created:function(){var t=this;i.eventBus.$on("selectionChanged",function(e){e.length>=1?(t.numItems=0,e.forEach(function(e){if("Group"===e.className){if(e.fillColor){var n=e.fillColor.hue,i=100*e.fillColor.saturation+"%",o=100*e.fillColor.lightness+"%",a=e.fillColor.alpha;t.groupFillColor.style="hsla("+n+", "+i+", "+o+", "+a+")",t.groupFillColor.obj={h:n,s:i,l:o,a:a}}else t.groupFillColor.style="transparent",t.groupFillColor.obj={h:0,s:0,l:0,a:0};if(e.strokeColor){var s=e.strokeColor.hue,r=100*e.strokeColor.saturation+"%",c=100*e.strokeColor.lightness+"%",l=e.strokeColor.alpha;t.groupStrokeColor.style="hsla("+s+", "+r+", "+c+", "+l+")",t.groupStrokeColor.obj={h:s,s:r,l:c,a:l}}else t.groupStrokeColor.style="transparent",t.groupStrokeColor.obj={h:0,s:0,l:0,a:0}}else t.numItems++})):(t.numItems=0,t.groupFillColor={style:"transparent",obj:{h:0,s:0,l:0,a:0}},t.groupStrokeWidth="",t.groupStrokeColor={style:"transparent",obj:{h:0,s:0,l:0,a:0}})})}}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(162),s=(n.n(a),n(4)),r=n.n(s),c=n(8),l=n(1);e.a={components:{"colour-picker":a.Chrome},props:{color:{type:Object,default:function(){return{style:"transparent",obj:{h:0,s:0,l:0,a:0}}}},type:{type:String,default:function(){return"fill"}}},data:function(){return{dialog:!1,colorPick:this.color.obj}},computed:o()({},Object(l.d)({paperScope:function(t){return t.annotation.paperScope}})),watch:{dialog:function(t){if(!0===t)this.colorPick=this.color.obj;else if(!1===t&&this.paperScope.project.selectedItems.length>1){var e=this.paperScope.project.getItem({selected:!0,className:"Group"});"fill"===this.type&&this.colorPick.hsl?e.fillColor=new r.a.Color({hue:this.colorPick.hsl.h,saturation:this.colorPick.hsl.s,lightness:this.colorPick.hsl.l,alpha:this.colorPick.hsl.a}):"stroke"===this.type&&this.colorPick.hsl&&(e.strokeColor=new r.a.Color({hue:this.colorPick.hsl.h,saturation:this.colorPick.hsl.s,lightness:this.colorPick.hsl.l,alpha:this.colorPick.hsl.a})),c.eventBus.$emit("selectionChanged",this.paperScope.project.selectedItems)}}}}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(1);e.a={computed:o()({},Object(a.d)({activeStep:function(t){return t.config.activeStep},steps:function(t){return t.config.steps}})),methods:o()({},Object(a.b)(["setActiveStep","setActiveStepAndLayer"]))}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(1);e.a={computed:o()({},Object(a.d)({channels:function(t){return t.config.channels},annotation:function(t){return t.config.annotation}})),mounted:function(){this.initialiseViewer(),this.initialiseAnnotation(),this.loadConfig(),this.synchroniseAnnotationAndImage()},methods:o()({},Object(a.b)(["initialiseViewer","initialiseAnnotation","addImages","synchroniseAnnotationAndImage","loadAnnotation","loadConfig"]))}},function(t,e,n){"use strict";var i=n(174),o=n(188),a=n(191);e.a={components:{"app-settings":i.a,"app-account":o.a,"app-save":a.a}}},function(t,e,n){"use strict";var i=n(176),o=n(178),a=n(181),s=n(184);e.a={components:{"app-tool-settings":i.a,"app-step-settings":o.a,"app-add-image":a.a,"app-add-annotation":s.a},props:{config:{type:Object,default:function(){return{}}},osdViewer:{type:Object,default:function(){return{}}},paperScope:{type:Object,default:function(){return{}}}},data:function(){return{dialog:!1,active:"Task",steps:!1,images:!1,annotations:!1,activeAnnotation:0,activeImage:0,activeStep:0}}}},function(t,e,n){"use strict";e.a={props:{config:{type:Object,default:function(){return{}}}}}},function(t,e,n){"use strict";e.a={props:{config:{type:Object,default:function(){return{}}},step:{type:Number,default:1}},data:function(){return{title:""}}}},function(t,e,n){"use strict";e.a={props:{config:{type:Object,default:function(){return{}}},osdViewer:{type:Object,default:function(){return{}}}},data:function(){return{imageName:"",imagePath:"",errorToggle:!1,errorMessage:"",successToggle:!1}},methods:{addImage:function(){this.osdViewer.addTiledImage({tileSource:this.imagePath,x:0,y:0,opacity:.5,success:this.success,error:this.error})},error:function(t){var e=this;console.log(t.message),this.errorMessage=t.message,this.errorToggle=!0,setTimeout(function(){e.errorToggle=!1},3e3)},success:function(){var t=this,e=this.config.images.length+1;this.config.images.push({id:e,name:this.imageName,url:this.imagePath}),this.successToggle=!0,setTimeout(function(){t.successToggle=!1},3e3),this.imageName="",this.imagePath=""}}}},function(t,e,n){"use strict";e.a={props:{config:{type:Object,default:function(){return{}}},osdViewer:{type:Object,default:function(){return{}}},paperScope:{type:Object,default:function(){return{}}}},data:function(){return{annotationName:"",annotationString:"",errorToggle:!1,errorMessage:"",successToggle:!1}},methods:{addAnnotation:function(){this.paperScope.project.importJSON(this.annotationString)},error:function(t){var e=this;console.log(t.message),this.errorMessage=t.message,this.errorToggle=!0,setTimeout(function(){e.errorToggle=!1},3e3)},success:function(){var t=this;this.successToggle=!0,setTimeout(function(){t.successToggle=!1},3e3),this.annotationName="",this.annotationString=""}}}},function(t,e,n){"use strict";e.a={}},function(t,e,n){"use strict";var i=n(2),o=n.n(i),a=n(1);e.a={methods:o()({},Object(a.b)(["saveConfig"]))}},,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(31),o=n.n(i),a=n(80),s=n(0),r=s(o.a,a.a,!1,null,null,null);e.default=r.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{toolbar:"","pointer-events":"none"}},[n("v-content",[n("router-view")],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";var i=n(13),o=n(82),a=n(83),s=n(87);i.a.use(o.a),e.a=new o.a({routes:[{path:"/",name:"Landing",component:a.default},{path:"/example",name:"Example",component:s.a}]})},,function(t,e,n){"use strict";function i(t){n(84)}var o=n(32),a=n.n(o),s=n(86),r=n(0),c=i,l=r(a.a,s.a,!1,c,"data-v-c58147f6",null);e.default=l.exports},function(t,e){},,function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{id:"home"}},[n("v-layout",{attrs:{id:"hero",row:""}},[n("v-flex",{attrs:{xs12:"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[n("v-flex",{attrs:{id:"title-container",xs12:""}},[n("h1",{attrs:{id:"title"}},[t._v(" AIDA ")])]),t._v(" "),n("v-flex",{attrs:{id:"subtitle-container",xs12:""}},[n("h2",{attrs:{id:"subtitle"}},[t._v(" Annotate Image Data by Assignment ")])]),t._v(" "),n("v-flex",{attrs:{id:"button-container",xs8:"",sm4:"",md3:"",lg2:"","text-xs-center":""}},[n("v-btn",{attrs:{dark:"",block:"",to:"/example"}},[n("v-icon",[t._v("web")]),t._v(" "),n("span",{staticClass:"button-text"},[t._v("\n              Example\n            ")])],1)],1),t._v(" "),n("v-flex",{attrs:{id:"button-container",xs8:"",sm4:"",md3:"",lg2:"","text-xs-center":""}},[n("v-btn",{attrs:{light:"",block:"",href:"https://github.com/alanaberdeen/AIDA"}},[n("v-icon",[t._v("fa-github")]),t._v(" "),n("span",{staticClass:"button-text"},[t._v("\n              Github\n            ")])],1)],1),t._v(" "),n("v-flex",{attrs:{id:"button-container",xs8:"",sm4:"",md3:"",lg2:"","text-xs-center":""}},[n("v-btn",{attrs:{light:"",block:"",to:"/docs"}},[n("v-icon",[t._v("fa-book")]),t._v(" "),n("span",{staticClass:"button-text"},[t._v("\n              Docs\n            ")])],1)],1)],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:"","align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",lg8:""}},[n("v-card",{staticClass:"info-card"},[n("div",{staticClass:"info-content"},[n("h4",[t._v("\n            The Basic Idea\n          ")]),t._v(" "),n("p",[t._v("\n            AIDA is an attempt to bring an open source web-based\n            workflow to image annotation. Currently, in the\n            biomedical imaging space, image annotation is largely\n            confined to single computer shrink-wrapped software with\n            limited interactive capabilities and few, usually\n            closed, data formats.\n          ")]),t._v(" "),n("p",[t._v("\n            AIDA is a web interface that enables distributed teams\n            of researchers to direclty annotate images with easy\n            to use on screen drawing tools. AIDA supports the\n            creation of well defined annotatio trials which include\n            a series of high resolution images or video and a\n            specific set of annotation tasks.\n          ")]),t._v(" "),n("p",[t._v("\n            The trial and annotation data can be accessed\n            programatically via a "),n("router-link",{attrs:{to:"/docs/api"}},[t._v("\n              documented API. ")])],1)])]),t._v(" "),n("v-card",{staticClass:"info-card"},[n("div",{staticClass:"info-content"},[n("h4",[t._v("\n            How has it been implemented?\n          ")]),t._v(" "),n("p",[t._v("\n            The user interface is a "),n("a",{attrs:{href:"https://vuejs.org/"}},[t._v("VueJS")]),t._v(" Single Page Application\n            built to web standards, encapsulating and interacting\n            with two other significant JavaScript libraries:\n            "),n("a",{attrs:{href:"https://openseadragon.github.io/"}},[t._v("\n            OpenSeaDragon")]),t._v(" to manipulate the high-res images\n            and "),n("a",{attrs:{href:"http://paperjs.org/"}},[t._v("PaperJS")]),t._v(" to\n            provide the drawing functionality.\n            This interface generates a JSON file that is written\n            to a database via a web API. Login enables specific\n            configuration of the tool for different trials\n            and tasks.\n          ")])])]),t._v(" "),n("v-card",{staticClass:"info-card"},[n("div",{staticClass:"info-content"},[n("h4",[t._v("\n            What's planned?\n          ")]),t._v(" "),n("p",[t._v("\n            The software is published as Open Source under the permissive "),n("a",{attrs:{href:"https://github.com/alanaberdeen/AIDA/blob/master/LICENSE"}},[t._v(" MIT license ")]),t._v(" and can be\n            modified by anyone.\n            The "),n("router-link",{attrs:{to:"/docs/api"}},[t._v(" API ")]),t._v("\n            will also be public.\n\n            The next stage of development will be to integrate\n            intelligent tools that leverage the power of machine\n            learning techniques. We hope to enhance the ability\n            of the user to quickly and accuratley mark up images\n            with using predicitive technqiues.\n          ")],1)])]),t._v(" "),n("v-card",{staticClass:"info-card"},[n("div",{staticClass:"info-content"},[n("h4",[t._v("\n            About\n          ")]),t._v(" "),n("p",[t._v("\n            This is a project of Alan Aberdeen, Jens Rittscher,\n            and Nasullah Khalid at the University of Oxford,\n            specifically the\n            "),n("a",{attrs:{href:"http://www.ludwig.ox.ac.uk/jens-rittscher-group-page"}},[t._v("\n              Quantitative Biological Imaging Group\n            ")]),t._v(".\n\n          ")])])])],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(88)}var o=n(33),a=n(195),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-5b55e87c",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";function i(t){n(90)}var o=n(34),a=n(149),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-3cb336ae",null);e.a=c.exports},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){n(120)}var o=n(40),a=n(124),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-3a3fb045",null);e.a=c.exports},function(t,e){},function(t,e){},,function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{id:"tool-tile"}},[n("v-btn",{attrs:{id:"tool",flat:"",block:""},nativeOn:{click:function(e){return t.initialiseTool(e)}}},[n("i",{class:{fa:!0,"fa-circle":!0,faIcons:!t.active,faIconsActive:t.active}})])],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(126)}var o=n(41),a=n(127),s=n(0),r=i,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{id:"tool-tile"}},[n("v-btn",{attrs:{id:"tool",flat:"",block:""},nativeOn:{click:function(e){return t.initialiseTool(e)}}},[n("v-icon",{class:{"grey--text text--darken-2":!t.active,"blue--text text--darken-1":t.active}},[t._v("\n      crop_landscape\n    ")])],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(129)}var o=n(42),a=n(130),s=n(0),r=i,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{id:"tool-tile"}},[n("v-btn",{attrs:{id:"tool",flat:"",block:""},nativeOn:{click:function(e){return t.initialiseTool(e)}}},[n("v-icon",{class:{"grey--text text--darken-2":!t.active,"blue--text text--darken-1":t.active}},[t._v("\n      timeline\n    ")])],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(132)}var o=n(43),a=n(133),s=n(0),r=i,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{id:"tool-tile"}},[n("v-btn",{attrs:{id:"tool",flat:"",block:""},nativeOn:{click:function(e){return t.initialiseTool(e)}}},[n("i",{class:{fa:!0,"fa-pencil-alt":!0,faIcons:!t.active,faIconsActive:t.active}})])],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(135)}var o=n(44),a=n(136),s=n(0),r=i,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{id:"tool-tile"}},[n("v-btn",{attrs:{id:"tool",flat:"",block:""},nativeOn:{click:function(e){return t.initialiseTool(e)}}},[n("v-icon",{attrs:{color:t.color,small:""}},[t._v("\n      fa-mouse-pointer\n    ")])],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(138)}var o=n(45),a=n(139),s=n(0),r=i,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{id:"tool-tile"}},[n("v-btn",{attrs:{id:"tool",flat:"",block:""},nativeOn:{click:function(e){return t.initialiseTool(e)}}},[t.active?n("v-icon",{staticClass:"blue--text text--darken-1"},[t._v("\n      lock_open\n    ")]):n("v-icon",{staticClass:"grey--text text--darken-2"},[t._v("\n      lock_outline\n    ")])],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(141)}var o=n(46),a=n(142),s=n(0),r=i,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{id:"tool-tile"}},[n("v-btn",{attrs:{id:"tool",flat:"",block:""},nativeOn:{click:function(e){return t.initialiseTool(e)}}},[n("i",{class:{fa:!0,"fa-location-arrow":!0,faIcons:!t.active,faIconsActive:t.active}})])],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(144)}var o=n(47),a=n(145),s=n(0),r=i,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{id:"tool-tile"}},[n("v-btn",{attrs:{id:"tool",flat:"",block:""},nativeOn:{click:function(e){return t.initialiseTool(e)}}},[n("v-icon",{class:{"grey--text text--darken-2":!t.active,"blue--text text--darken-1":t.active}},[t._v("\n      filter_9_plus\n    ")])],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(147)}var o=n(48),a=n(148),s=n(0),r=i,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-tile",{attrs:{id:"tool-delete"}},[n("v-btn",{attrs:{id:"tool",flat:"",block:""},nativeOn:{click:function(e){return t.initialiseTool(e)}}},[n("v-icon",{class:{"grey--text text--darken-2":!t.active,"blue--text text--darken-1":t.active}},[t._v("\n      delete\n    ")])],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pointers-please elevation-2",attrs:{id:"toolsPanel"}},[n("v-list",{attrs:{id:"toolList",dense:""}},[t.getConfigStepTools().includes("pan")?n("app-pan",{attrs:{active:"pan"===t.activeTool},nativeOn:{click:function(e){t.activeTool="pan"}}}):t._e(),t._v(" "),n("v-divider"),t._v(" "),t.getConfigStepTools().includes("move")?n("app-move",{attrs:{active:"move"===t.activeTool},nativeOn:{click:function(e){t.activeTool="move"}}}):t._e(),t._v(" "),t.getConfigStepTools().includes("node")?n("app-node",{attrs:{active:"node"===t.activeTool},nativeOn:{click:function(e){t.activeTool="node"}}}):t._e(),t._v(" "),n("v-divider"),t._v(" "),t.getConfigStepTools().includes("circle")?n("app-circle",{attrs:{active:"circle"===t.activeTool},nativeOn:{click:function(e){t.activeTool="circle"}}}):t._e(),t._v(" "),t.getConfigStepTools().includes("rectangle")?n("app-rectangle",{attrs:{active:"rectangle"===t.activeTool},nativeOn:{click:function(e){t.activeTool="rectangle"}}}):t._e(),t._v(" "),t.getConfigStepTools().includes("pen")?n("app-pen",{attrs:{active:"pen"===t.activeTool},nativeOn:{click:function(e){t.activeTool="pen"}}}):t._e(),t._v(" "),t.getConfigStepTools().includes("pencil")?n("app-pencil",{attrs:{active:"pencil"===t.activeTool},nativeOn:{click:function(e){t.activeTool="pencil"}}}):t._e(),t._v(" "),n("v-divider"),t._v(" "),t.getConfigStepTools().includes("count")?n("app-count",{attrs:{active:"count"===t.activeTool},nativeOn:{click:function(e){t.activeTool="count"}}}):t._e(),t._v(" "),n("v-divider"),t._v(" "),t.getConfigStepTools().includes("delete")?n("app-delete",{attrs:{active:"delete"===t.activeTool},nativeOn:{click:function(e){t.activeTool="delete"}}}):t._e()],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(151)}var o=n(49),a=n(165),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-741ad53f",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";function i(t){n(153)}var o=n(50),a=n(154),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-b9bfc544",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.layers?n("div",{staticClass:"elevation-1"},[n("v-card",{staticClass:"panel"},[n("v-toolbar",{attrs:{id:"toolbar",dense:""}},[n("v-toolbar-title",{attrs:{id:"title"}},[t._v("\n        Layers\n      ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.newLayer(e)}}},[n("v-icon",{attrs:{id:"iconButton"}},[t._v("\n          tab\n        ")])],1)],1),t._v(" "),n("v-list",{attrs:{id:"list",dense:""}},t._l(t.layers,function(e,i){return n("v-list-tile",{key:i,attrs:{id:"tile"},nativeOn:{click:function(e){t.setActiveStepAndLayer(i+1)},dblclick:function(n){t.editLayerName(e)}}},[n("v-list-tile-content",{attrs:{id:"content"}},[n("v-list-tile-title",{class:[e==t.activeLayer?"faIconsActive":"faIcons",e.id==t.editingLayer?"editing":"not-editing"],attrs:{id:"name"}},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"layer.name"}],class:[e.id!==t.editingLayer?"editing":"not-editing"],attrs:{id:"nameEdit",autofocus:""},domProps:{value:e.name},on:{blur:function(n){t.finishedEdit(e)},keyup:[function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;t.finishedEdit(e)},function(n){if(!("button"in n)&&t._k(n.keyCode,"esc",27,n.key,"Escape"))return null;t.cancelEdit(e)}],input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}})],1),t._v(" "),n("v-list-tile-action",[n("v-btn",{attrs:{id:"action",icon:""},nativeOn:{click:function(n){t.exportLayerJSON(e)}}},[n("v-icon",{attrs:{id:"iconButton"}},[t._v("\n              save\n            ")])],1)],1)],1)}))],1)],1):t._e()},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(156)}var o=n(51),a=n(157),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-e0159c2c",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"elevation-1"},[n("v-card",{staticClass:"panel"},[n("v-toolbar",{attrs:{id:"toolbar",dense:""}},[n("v-toolbar-title",{attrs:{id:"title"}},[t._v("\n        Channels\n      ")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-list",{attrs:{id:"list"}},t._l(t.getChannels,function(e,i){return n("v-list-group",{key:i,attrs:{id:"group","append-icon":e.visible?"visibility":"visibility_off","no-action":""}},[n("v-list-tile",{attrs:{slot:"activator","no-action":""},slot:"activator"},[n("v-list-tile-content",{attrs:{id:"content"}},[n("v-list-tile-title",{attrs:{id:"name"}},[t._v("\n              "+t._s(e.name)+"\n            ")])],1)],1),t._v(" "),n("div",[n("v-slider",{attrs:{id:"slider"},on:{input:function(n){t.setChannelVisibility(e)}},model:{value:e.opacity,callback:function(n){t.$set(e,"opacity",n)},expression:"channel.opacity"}})],1)],1)}))],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(159)}var o=n(52),a=n(164),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-519bc55c",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";function i(t){n(161)}var o=n(53),a=n(163),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-6da42eff",null);e.a=c.exports},function(t,e){},,function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"225px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("a",{attrs:{slot:"activator"},slot:"activator"},[n("div",{staticClass:"color-tile",style:{"background-color":t.color.style}})]),t._v(" "),n("v-card",[n("colour-picker",{attrs:{id:"picker"},model:{value:t.colorPick,callback:function(e){t.colorPick=e},expression:"colorPick"}})],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"elevation-1"},[n("v-card",{staticClass:"panel"},[n("v-toolbar",{attrs:{id:"toolbar",dense:""}},[n("v-toolbar-title",{attrs:{id:"title"}},[t._v("\n        Properties\n      ")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-list",{attrs:{id:"list",dense:""}},[n("v-list-tile",{attrs:{id:"tile"}},[n("v-list-tile-content",{staticClass:"content"},[n("v-list-tile-title",{staticClass:"name"},[t._v("\n            No. selected items:\n          ")])],1),t._v(" "),n("v-list-tile-action",[n("span",{staticClass:"number"},[t._v("\n            "+t._s(t.numItems)+"\n          ")])])],1),t._v(" "),n("v-list-tile",{attrs:{id:"tile"}},[n("v-list-tile-content",{staticClass:"content"},[n("v-list-tile-title",{staticClass:"name"},[t._v("\n            Fill colour:\n          ")])],1),t._v(" "),n("v-list-tile-action",[n("v-btn",{staticClass:"action pointers-no",attrs:{icon:""}},[n("colour-picker",{staticClass:"pointers-please",attrs:{color:t.groupFillColor,type:"fill"}})],1)],1)],1),t._v(" "),n("v-list-tile",{attrs:{id:"tile"}},[n("v-list-tile-content",{staticClass:"content"},[n("v-list-tile-title",{staticClass:"name"},[t._v("\n            Stroke colour:\n          ")])],1),t._v(" "),n("v-list-tile-action",[n("v-btn",{staticClass:"action pointers-no",attrs:{icon:""}},[n("colour-picker",{staticClass:"pointers-please",attrs:{color:t.groupStrokeColor,type:"stroke"}})],1)],1)],1)],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pointers-please studioPanel elevation-2"},[n("app-layers"),t._v(" "),n("app-channels"),t._v(" "),n("app-properties")],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(167)}var o=n(54),a=n(168),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-5d3f3227",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.steps?n("div",{staticClass:"pointers-please"},[n("v-stepper",{attrs:{id:"stepper",value:t.activeStep,"non-linear":""},on:{"update:value":function(e){t.activeStep=e}}},[n("v-stepper-header",{attrs:{id:"stepper-header"}},t._l(t.steps,function(e){return n("div",{key:e.id},[n("v-stepper-step",{attrs:{id:"stepper-step",step:e.id,editable:""},nativeOn:{click:function(n){t.setActiveStepAndLayer(e.id)}}}),t._v(" "),n("v-divider")],1)}))],1),t._v(" "),n("div",{staticClass:"elevation-1",attrs:{id:"hint-card"}},[n("p",{attrs:{id:"hint"}},[t._v("\n      "+t._s(t.steps[t.activeStep-1].instruction)+"\n    ")])])],1):t._e()},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(170)}var o=n(55),a=n(171),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-18a70d02",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"elevation-2 pointers-please",attrs:{id:"canvas"}},[n("div",{attrs:{id:"osd-canvas"}}),t._v(" "),n("canvas",{attrs:{id:"paper-canvas"}})])}],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(173)}var o=n(56),a=n(194),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-29bf27dc",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";function i(t){n(175)}var o=n(57),a=n(187),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-050c7bd6",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=n(58),o=n(177),a=n(0),s=a(i.a,o.a,!1,null,null,null);e.a=s.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:""}},[n("v-list",{attrs:{"two-line":"",subheader:""}},t._l(t.config.tools,function(e){return n("v-list-item",{key:e.name},[n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-action",[n("v-checkbox",{model:{value:e.include,callback:function(n){t.$set(e,"include",n)},expression:"tool.include"}})],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v(" "+t._s(e.name)+" ")]),t._v(" "),n("v-list-tile-sub-title",[t._v(" "+t._s(e.caption))])],1)],1)],1)}))],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(179)}var o=n(59),a=n(180),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-2ef4db06",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",{staticClass:"step-id"},[t._v(" Step "+t._s(t.step+1)+" ")]),t._v(" "),n("div",[n("p",{staticClass:"label"},[t._v(" Tools required: ")]),t._v(" "),n("v-btn",{staticClass:"tool elevation-1",attrs:{flat:!t.config.steps[t.step].tools.pan,small:""},nativeOn:{click:function(e){t.config.steps[t.step].tools.pan=!t.config.steps[t.step].tools.pan}}},[n("i",{class:{fa:!0,"fa-lock":!0,faIcons:!0}})]),t._v(" "),n("v-btn",{staticClass:"tool elevation-1",attrs:{flat:!t.config.steps[t.step].tools.circle,small:""},nativeOn:{click:function(e){t.config.steps[t.step].tools.circle=!t.config.steps[t.step].tools.circle}}},[n("i",{class:{fa:!0,"fa-circle":!0,faIcons:!0}})]),t._v(" "),n("v-btn",{staticClass:"tool elevation-1",attrs:{flat:!t.config.steps[t.step].tools.rectangle,small:""},nativeOn:{click:function(e){t.config.steps[t.step].tools.rectangle=!t.config.steps[t.step].tools.rectangle}}},[n("v-icon",[t._v("\n        crop_landscape\n      ")])],1),t._v(" "),n("v-btn",{staticClass:"tool elevation-1",attrs:{flat:!t.config.steps[t.step].tools.pen,small:""},nativeOn:{click:function(e){t.config.steps[t.step].tools.pen=!t.config.steps[t.step].tools.pen}}},[n("v-icon",[t._v("\n        timeline\n      ")])],1),t._v(" "),n("v-btn",{staticClass:"tool elevation-1",attrs:{flat:!t.config.steps[t.step].tools.pencil,small:""},nativeOn:{click:function(e){t.config.steps[t.step].tools.pencil=!t.config.steps[t.step].tools.pencil}}},[n("i",{class:{fa:!0,"fa-pencil":!0,faIcons:!0}})]),t._v(" "),n("v-btn",{staticClass:"tool elevation-1",attrs:{flat:!t.config.steps[t.step].tools.move,small:""},nativeOn:{click:function(e){t.config.steps[t.step].tools.move=!t.config.steps[t.step].tools.move}}},[n("i",{class:{fa:!0,"fa-mouse-pointer":!0,faIcons:!0}})]),t._v(" "),n("v-btn",{staticClass:"tool elevation-1",attrs:{flat:!t.config.steps[t.step].tools.node,small:""},nativeOn:{click:function(e){t.config.steps[t.step].tools.node=!t.config.steps[t.step].tools.node}}},[n("i",{class:{fa:!0,"fa-location-arrow":!0,faIcons:!0}})])],1)])},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(182)}var o=n(60),a=n(183),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-95c63996",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",{staticClass:"step-id"},[t._v("\n    Add a new image\n  ")]),t._v(" "),n("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.imageName,callback:function(e){t.imageName=e},expression:"imageName"}}),t._v(" "),n("v-text-field",{attrs:{label:"Tile Source URL",required:""},model:{value:t.imagePath,callback:function(e){t.imagePath=e},expression:"imagePath"}}),t._v(" "),n("v-btn",{staticClass:"indigo--text add-button",attrs:{outline:""},nativeOn:{click:function(e){t.addImage()}}},[t._v("\n    Add\n  ")]),t._v(" "),n("v-alert",{attrs:{value:t.successToggle,success:"",transition:"scale-transition"}},[t._v("\n    Image successfully added.\n  ")]),t._v(" "),n("v-alert",{attrs:{value:t.errorToggle,error:"",transition:"scale-transition"}},[t._v("\n    Error: "+t._s(t.errorMessage)+"\n  ")])],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(185)}var o=n(61),a=n(186),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-7bc047e2",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",{staticClass:"step-id"},[t._v(" Add a new annotation ")]),t._v(" "),n("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.annotationName,callback:function(e){t.annotationName=e},expression:"annotationName"}}),t._v(" "),n("v-text-field",{attrs:{label:"JSON string",required:""},model:{value:t.annotationString,callback:function(e){t.annotationString=e},expression:"annotationString"}}),t._v(" "),n("v-btn",{staticClass:"indigo--text add-button",attrs:{outline:""},nativeOn:{click:function(e){t.addAnnotation()}}},[t._v("\n    Add\n  ")]),t._v(" "),n("v-alert",{attrs:{value:t.successToggle,success:"",transition:"scale-transition"}},[t._v("\n    Annotation successfully added.\n  ")]),t._v(" "),n("v-alert",{attrs:{value:t.errorToggle,error:"",transition:"scale-transition"}},[t._v("\n    Error: "+t._s(t.errorMessage)+"\n  ")])],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{staticClass:"pointers-please",attrs:{scrollable:"",width:"75%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-icon",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n    settings\n  ")]),t._v(" "),n("v-card",[n("v-card-title",[t._v("\n      Settings\n    ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-layout",[n("v-flex",{attrs:{id:"tabs-column",xs3:""}},[n("v-list",{attrs:{id:"settings-list",dense:""}},[n("v-list-group",{attrs:{"no-action":""},model:{value:t.steps,callback:function(e){t.steps=e},expression:"steps"}},[n("v-list-tile",{attrs:{slot:"item"},slot:"item"},[n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"tile-title"},[t._v("\n                  Task\n                ")])],1),t._v(" "),n("v-list-tile-action",{staticClass:"action"},[n("v-icon",[t._v("\n                  keyboard_arrow_down\n                ")])],1)],1),t._v(" "),t._l(t.config.steps,function(e,i){return n("v-list-tile",{key:i,class:{"option-active":t.config.activeStep===i},nativeOn:{click:function(e){t.config.activeStep=i,t.active=""}}},[n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"tile-title"},[t._v("\n                  Step "+t._s(i+1)+"\n                ")])],1)],1)}),t._v(" "),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"tile-title",nativeOn:{click:function(e){t.active="addStep"}}},[n("v-icon",{staticClass:"add_icon"},[t._v("\n                    add_circle_outline\n                  ")])],1)],1)],1)],2),t._v(" "),n("v-list-group",{attrs:{"no-action":""},model:{value:t.images,callback:function(e){t.images=e},expression:"images"}},[n("v-list-tile",{attrs:{slot:"item"},slot:"item"},[n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"tile-title"},[t._v("\n                  Images\n                ")])],1),t._v(" "),n("v-list-tile-action",{staticClass:"action"},[n("v-icon",[t._v("\n                  keyboard_arrow_down\n                ")])],1)],1),t._v(" "),t._l(t.config.images,function(e,i){return n("v-list-tile",{key:i,class:{"option-active":t.activeImage===i},nativeOn:{click:function(e){t.activeImage=i,t.active=""}}},[n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"tile-title"},[t._v("\n                  "+t._s(e.name)+"\n                ")])],1)],1)}),t._v(" "),n("v-list-tile",{class:{"option-active":"add"===t.activeImage},nativeOn:{click:function(e){t.activeImage="add",t.active="addImage"}}},[n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"tile-title"},[n("v-icon",{staticClass:"add_icon"},[t._v("\n                    add_circle_outline\n                  ")])],1)],1)],1)],2),t._v(" "),n("v-list-group",{attrs:{"no-action":""},model:{value:t.annotations,callback:function(e){t.annotations=e},expression:"annotations"}},[n("v-list-tile",{attrs:{slot:"item"},slot:"item"},[n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"tile-title",nativeOn:{click:function(e){t.active=""}}},[t._v("\n                  Annotations\n                ")])],1),t._v(" "),n("v-list-tile-action",{staticClass:"action"},[n("v-icon",[t._v("keyboard_arrow_down")])],1)],1),t._v(" "),n("v-list-tile",{class:{"option-active":"add"===t.activeAnnotation},nativeOn:{click:function(e){t.activeAnnotation="add",t.active="addAnnotation"}}},[n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"tile-title"},[n("v-icon",{staticClass:"add_icon"},[t._v("\n                    add_circle_outline\n                  ")])],1)],1)],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{xs9:""}},[n("v-layout",[n("v-flex",[n("v-card-text",[t.steps?n("app-step-settings",{attrs:{config:t.config,step:t.config.activeStep}}):t._e(),t._v(" "),t.images&&"addImage"===t.active?n("app-add-image",{attrs:{config:t.config,"osd-viewer":t.osdViewer}}):t._e(),t._v(" "),t.annotations&&"addAnnotation"===t.active?n("app-add-annotation",{attrs:{config:t.config,"osd-viewer":t.osdViewer,"paper-scope":t.paperScope}}):t._e()],1)],1)],1)],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-layout",{attrs:{actions:""}},[n("v-btn",{staticClass:"blue--text darken-1",attrs:{flat:""},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("\n        Close\n      ")])],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(189)}var o=n(62),a=n(190),s=n(0),r=i,c=s(o.a,a.a,!1,r,"data-v-222df3de",null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{staticClass:"pointers-please",attrs:{"nudge-right":30,"nudge-bottom":5,"offset-y":""}},[n("v-icon",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n    account_circle\n  ")]),t._v(" "),n("v-list",{staticClass:"pointers-please",attrs:{dense:""}},[n("v-list-tile",[n("v-list-tile-title",{attrs:{id:"title"}},[t._v("\n        Log out\n      ")])],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";function i(t){n(192)}var o=n(63),a=n(193),s=n(0),r=i,c=s(o.a,a.a,!1,r,null,null);e.a=c.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.saveConfig()}}},[n("v-icon",[t._v("\n    save\n  ")])],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{staticClass:"primary pointers-please",attrs:{fixed:!0,dark:"",dense:""}},[n("div",{attrs:{id:"toolbar-side-icon-spacer"}}),t._v(" "),n("router-link",{attrs:{to:"/"}},[n("v-toolbar-title",{staticClass:"white--text"},[t._v("\n      AIDA\n    ")])],1),t._v(" "),n("v-spacer"),t._v(" "),n("app-save"),t._v(" "),n("v-btn",{attrs:{icon:"",href:"https://imageannotation.nds.ox.ac.uk:8443/AIDA/"}},[n("v-icon",[t._v(" apps")])],1),t._v(" "),n("router-link",{attrs:{to:"/docs"}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{small:""}},[t._v(" fa-book ")])],1)],1),t._v(" "),n("v-btn",{staticClass:"pointers-no",attrs:{icon:""}},[n("app-account")],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",[n("app-toolbar")],1),t._v(" "),n("v-container",{attrs:{id:"content-container",fluid:""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{id:"left-panel","d-flex":""}},[n("app-tools")],1),t._v(" "),n("v-flex",{attrs:{"d-flex":""}},[n("div",{attrs:{id:"centre-container"}},[n("div",{attrs:{id:"stepper"}},[n("app-stepper")],1),t._v(" "),n("div",{attrs:{id:"canvas-container"}},[n("app-canvas")],1)])]),t._v(" "),n("v-flex",{attrs:{id:"right-panel","d-flex":""}},[n("app-studio")],1)],1)],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},function(t,e,n){"use strict";var i=n(13),o=n(1),a=n(197),s=n(199),r=n(200);i.a.use(o.a),e.a=new o.a.Store({state:{},getters:{},actions:{},mutations:{},modules:{image:a.a,annotation:s.a,config:r.a}})},function(t,e,n){"use strict";var i=n(198),o=n.n(i),a=n(4),s=n.n(a),r={viewer:null},c={getImageWidth:function(t){return t.viewer.world.getItemCount()>0?t.viewer.world.getItemAt(0).getContentSize.x:0},getChannels:function(t,e,n){var i=[];if(t.viewer)for(var o=t.viewer.world.getItemCount(),a=0;a<o;a++)i.push({channel:t.viewer.world.getItemAt(a),id:a,opacity:100*t.viewer.world.getItemAt(a).getOpacity(),name:n.config.channels[a].name,visible:t.viewer.world.getItemAt(a).getOpacity()>0,opacityCache:0});return i}},l={initialiseViewer:function(t,e){(0,t.commit)("initialiseViewer",e)},addImages:function(t,e){(0,t.commit)("addImages",e)},synchroniseAnnotationAndImage:function(t){t.state;(0,t.commit)("synchroniseAnnotationAndImage",t.rootState.annotation.paperScope)},toggleChannelVisibility:function(t,e){(0,t.commit)("toggleChannelVisibility",e)},setChannelVisibility:function(t,e){(0,t.commit)("setChannelVisibility",e)}},u={initialiseViewer:function(t,e){t.viewer=new o.a.Viewer({id:"osd-canvas",showNavigationControl:!1})},synchroniseAnnotationAndImage:function(t,e){t.viewer.addHandler("update-viewport",function(){var n=t.viewer.canvas.clientWidth,i=t.viewer.canvas.clientHeight;e.view.viewSize=new s.a.Size(n,i);var o=t.viewer.viewport.getZoom(!0),a=t.viewer.world.getItemAt(0);e.view.zoom=a.viewportToImageZoom(o);var r=a.viewportToImageCoordinates(t.viewer.viewport.getCenter(!0));e.view.center=new s.a.Point(r.x,r.y);var c=a.getContentSize().x;e.project.layers.forEach(function(t){t.children.forEach(function(t){"Path"===t.className&&(t.strokeWidth=c/(500*o))})})})},addImages:function(t,e){for(var n in e)t.viewer.addTiledImage({tileSource:e[n].url,x:0,y:0,opacity:.7})},toggleChannelVisibility:function(t,e){console.log("HARRO"),e.opacity>0?e.channel.setOpacity(0):e.channel.setOpacity(.7)},setChannelVisibility:function(t,e){e.channel.setOpacity(e.opacity/100)}};e.a={state:r,getters:c,actions:l,mutations:u}},,function(t,e,n){"use strict";var i=n(4),o=n.n(i),a={paperScope:{project:{layers:[]}}},s={getAnnotationProjectJSON:function(t){if(t.paperScope.version)return t.paperScope.project.exportJSON()}},r={initialiseAnnotation:function(t,e){(0,t.commit)("initialiseAnnotation",e)},loadAnnotation:function(t,e){(0,t.commit)("loadAnnotation",e)},loadProject:function(t,e){(0,t.commit)("loadProject",e)},exportLayerJSON:function(t,e){(0,t.commit)("exportLayerJSON",e)},prepareCanvas:function(t,e){(0,t.commit)("prepareCanvas",e)},newLayer:function(t,e){var n=t.commit;t.dispatch;n("newLayer")},setActiveLayer:function(t,e){(0,t.commit)("setActiveLayer",e)}},c={initialiseAnnotation:function(t,e){t.paperScope=o.a.setup(document.getElementById("paper-canvas"))},loadAnnotation:function(t,e){t.paperScope.project.importJSON(e)},loadProject:function(t,e){t.paperScope.project.clear(),t.paperScope.project.importJSON(e)},exportLayerJSON:function(t,e){console.log("Layer to be exported: "),console.log(e.name),console.log(e.exportJSON())},prepareCanvas:function(t,e){t.paperScope.view.element.classList.contains("pointers-no")&&t.paperScope.view.element.classList.remove("pointers-no")},newLayer:function(t){var e=t.paperScope.project.layers.length+1,n=new o.a.Layer({name:"Layer "+e,position:t.paperScope.view.center});console.assert(o.a.project.activeLayer===n,"New Layer was not created/activated correctly")},setActiveLayer:function(t,e){t.paperScope.project.layers[e-1].activate()}};e.a={state:a,getters:s,actions:r,mutations:c}},function(t,e,n){"use strict";var i=n(201),o=n.n(i),a=n(13),s={},r={getConfigStepTools:function(t){return t.steps?t.steps[t.activeStep-1].tools:[]},getDefaultColor:function(t){return t.steps?t.steps[t.activeStep-1].color:{fill:{alpha:0,hue:170,lightness:.5,saturation:1},stroke:{alpha:0,hue:170,lightness:.5,saturation:1}}}},c={loadConfig:function(t,e){var n=(t.state,t.rootState),i=t.commit,a=t.dispatch;o.a.get("https://aida-testing.firebaseio.com/.json").then(function(t){i("loadConfig",{rootState:n,newConfig:t.data.config}),a("loadProject",t.data.config.annotation,{root:!0}),a("addImages",t.data.config.channels,{root:!0})}).catch(function(t){console.log("Could not read data from external source."),console.log("Returned the following error: "),console.log(t)})},addImage:function(t,e){(0,t.commit)("addImage",e)},setActiveStepAndLayer:function(t,e){var n=t.dispatch;n("setActiveLayer",e),n("setActiveStep",e)},setActiveStep:function(t,e){(0,t.commit)("setActiveStep",e)},saveConfig:function(t){var e=t.dispatch,n=(t.commit,t.state);e("updateConfig",n).then(function(){o.a.put("https://aida-testing.firebaseio.com/.json",{config:n}).then(function(t){console.log(t)})})},updateConfig:function(t){var e=(t.dispatch,t.commit);t.rootState;e("updateConfig",t.rootGetters.getAnnotationProjectJSON)}},l={addImage:function(t,e){t.channels.push()},setActiveStep:function(t,e){t.activeStep=e},updateConfig:function(t,e){t.annotation=e},loadConfig:function(t,e){a.a.set(e.rootState,"config",e.newConfig)}};e.a={state:s,getters:r,actions:c,mutations:l}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,,,,,,function(t,e){},function(t,e){},,,,function(t,e){},,,function(t,e){},,,function(t,e){},,,,,,,function(t,e){},,function(t,e){},,,function(t,e){},,,function(t,e){},,,,,,function(t,e){},,,,,function(t,e){},,,,,function(t,e){},,,,,,,,,function(t,e){},,,function(t,e){},,,,,function(t,e){},,,,,function(t,e){},,,,function(t,e){},function(t,e){},function(t,e){}],[8]);
//# sourceMappingURL=app.5135f762be774d883d67.js.map
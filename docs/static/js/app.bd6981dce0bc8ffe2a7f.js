webpackJsonp([0],[,,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o.d(e,"eventBus",function(){return r});var n=o(4),i=o(6),a=o.n(i),s=o(7);n.a.use(a.a),n.a.config.productionTip=!1;var r=new n.a;new n.a({el:"#app",template:"<App/>",components:{App:s.a}})},,,,,function(t,e,o){"use strict";function n(t){o(8),o(10)}var i=o(11),a=o(120),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},,function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n),a=o(3),s=o.n(a),r=o(15),c=o(51),l=o(55),p=o(91),u=o(112),v=o(116);o(2);e.a={data:function(){return{paperScope:null,osdViewer:null,config:{activeStep:0,tools:{pan:{include:!0,name:"Pan and Zoom",caption:"Pan and zoom"},circle:{include:!0,name:"Circle",caption:"Plot circles"},rectangle:{include:!0,name:"Rectangle",caption:"Draw rectangles"},pen:{include:!0,name:"Pen",caption:"Draw smooth paths by plotting node points"},pencil:{include:!0,name:"Pencil",caption:"Draw smooth paths by dragging the mouse"},move:{include:!0,name:"Move",caption:"Move and scale annotation items"},node:{include:!0,name:"Node",caption:"Manipulate path nodes and handles"},count:{include:!0,name:"Count",caption:"Count items within a rectangle"}},steps:[{id:1,tools:{pan:!0,circle:!0,rectangle:!0,pen:!0,pencil:!0,move:!0,node:!0,count:!0},regionOfIntereset:"",instruction:"Instructions for Step 1: Use the circle tool to mark the lymphocytes within the region of interest."},{id:2,tools:{pan:!0,circle:!1,rectangle:!1,pen:!1,pencil:!0,move:!0,node:!0,count:!1},regionOfIntereset:"",instruction:"Instructions for Step 2: Use the contour tool to mark the non-tumor region."},{id:3,tools:{pan:!0,circle:!1,rectangle:!1,pen:!1,pencil:!0,move:!0,node:!0,count:!1},regionOfIntereset:"",instruction:"Instructions for Step 3: Use the contour tool to mark the center of the tumor."},{id:4,tools:{pan:!0,circle:!1,rectangle:!1,pen:!1,pencil:!0,move:!0,node:!0,count:!1},regionOfIntereset:"",instruction:"Instructions for Step 4: Use the contour tool to mark the invasive margin."},{id:5,tools:{pan:!0,circle:!1,rectangle:!1,pen:!1,pencil:!0,move:!0,node:!0,count:!1},regionOfIntereset:"",instruction:"Instructions for Step 5: Use the contour tool to mark the area around the glands."}],images:[]}}},methods:{addImage:function(t,e){var o=this.config.images.length+1;this.config.images.push({id:o,name:t,url:e}),this.osdViewer.addTiledImage({tileSource:e,x:0,y:0,opacity:.7})}},created:function(){var t=this;this.osdViewer=new s.a.Viewer({id:"osd-canvas",prefixUrl:"https://openseadragon.github.io/openseadragon/images/",showNavigationControl:!1}),t.addImage("Highsmith","https://openseadragon.github.io/example-images/highsmith/highsmith.dzi"),this.paperScope=i.a.setup(document.getElementById("paper-canvas")),this.osdViewer.addHandler("update-viewport",function(){var e=document.getElementById("canvas").clientWidth,o=document.getElementById("canvas").clientHeight;t.paperScope.view.viewSize=new i.a.Size(e,o);var n=t.osdViewer.viewport.getZoom(!0),a=t.osdViewer.world.getItemAt(0);t.paperScope.view.zoom=a.viewportToImageZoom(n);var s=a.viewportToImageCoordinates(t.osdViewer.viewport.getCenter(!0));t.paperScope.view.center=new i.a.Point(s.x,s.y);var r=t.osdViewer.world.getItemAt(0).getContentSize().x;t.paperScope.project.layers.forEach(function(t){t.children.forEach(function(t){"Path"===t.className&&(t.strokeWidth=r/(500*n))})})}),t.paperScope.project.importJSON('["Layer",{"name":"Circles","applyMatrix":true,"children":[["Group",{"applyMatrix":true}],["Group",{"applyMatrix":true}],["Path",{"applyMatrix":true,"data":{"countable":true},"segments":[[[2833.81806,3521.67343],[0,314.028],[0,-314.028]],[[3402.41605,2953.07544],[-314.028,0],[314.028,0]],[[3971.01404,3521.67343],[0,-314.028],[0,314.028]],[[3402.41605,4090.27142],[314.028,0],[-314.028,0]]],"closed":true,"fillColor":["hsl",170,0.7,0.5,0.4],"strokeColor":["hsl",170,0.7,0.5,1],"strokeWidth":21.53835}],["Path",{"applyMatrix":true,"data":{"countable":true},"segments":[[[3449.21215,4848.68081],[0,472.14183],[0,-472.14183]],[[4304.10055,3993.79241],[-472.14183,0],[472.14183,0]],[[5158.98896,4848.68081],[0,-472.14183],[0,472.14183]],[[4304.10055,5703.56922],[472.14183,0],[-472.14183,0]]],"closed":true,"fillColor":["hsl",170,0.7,0.5,0.4],"strokeColor":["hsl",170,0.7,0.5,1],"strokeWidth":21.53835}],["Path",{"applyMatrix":true,"data":{"countable":true},"segments":[[[1031.26573,5393.0941],[0,454.51656],[0,-454.51656]],[[1854.24077,4570.11906],[-454.51656,0],[454.51656,0]],[[2677.21582,5393.0941],[0,-454.51656],[0,454.51656]],[[1854.24077,6216.06914],[454.51656,0],[-454.51656,0]]],"closed":true,"fillColor":["hsl",170,0.7,0.5,0.4],"strokeColor":["hsl",170,0.7,0.5,1],"strokeWidth":21.53835}]]}]')},components:{"app-tools":r.a,"app-image-loader":c.a,"app-toolbar":l.a,"app-footer":u.a,"app-studio":p.a,"app-stepper":v.a}}},function(t,e){},,function(t,e){},function(t,e,o){"use strict";function n(t){o(16)}var i=o(17),a=o(50),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=(o.n(n),o(18)),a=o(22),s=o(26),r=o(30),c=o(34),l=o(38),p=o(42),u=o(46);e.a={props:["paperScope","osdViewer","config"],data:function(){return{activeTool:"pan"}},components:{"app-circle":i.a,"app-rectangle":a.a,"app-pen":s.a,"app-move":c.a,"app-pan":l.a,"app-node":p.a,"app-pencil":r.a,"app-count":u.a}}},function(t,e,o){"use strict";function n(t){o(19)}var i=o(20),a=o(21),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n),a=o(2);e.a={props:["paperScope","active","osdViewer"],data:function(){return{toolCircle:null,strokeWidth:400,radius:2e3,viewportZoom:this.osdViewer.viewport.getZoom(!0)}},methods:{initialiseTool:function(){this.paperScope.view.element.classList.contains("pointers-no")&&this.paperScope.view.element.classList.remove("pointers-no"),this.toolCircle.activate(),this.viewportZoom=this.osdViewer.viewport.getZoom(!0);var t=this.osdViewer.world.getItemAt(0).getContentSize().x;this.radius=t/(100*this.viewportZoom),this.strokeWidth=t/(500*this.viewportZoom)},calculateDistance:function(t,e){var o=t.x,n=t.y,i=e.x,a=e.y;return Math.sqrt(Math.pow(i-o,2)+Math.pow(a-n,2))}},created:function(){function t(t){r.toolCircle.minDistance=1.5*r.radius,n=t.point}function e(t){r.toolCircle.minDistance=0,s=t.point,r.radius=r.calculateDistance(n,s);var e=new i.a.Path.Line(n,s);e.strokeColor=new i.a.Color({hue:220,saturation:.7,lightness:.5,alpha:1}),e.strokeWidth=r.strokeWidth,e.add(t.point),e.removeOn({drag:!0,down:!0,up:!0});var o=new i.a.Path.Circle(n,r.radius);o.strokeColor=new i.a.Color({hue:220,saturation:.7,lightness:.5,alpha:1}),o.strokeWidth=r.strokeWidth,o.removeOn({drag:!0,down:!0,up:!0})}function o(t){s=t.point;var e=new i.a.Path.Circle(n,r.radius);e.strokeColor=new i.a.Color({hue:170,saturation:.7,lightness:.5,alpha:1}),e.strokeWidth=r.strokeWidth,e.fillColor=new i.a.Color({hue:170,saturation:.7,lightness:.5,alpha:.4}),e.data.countable=!0,a.eventBus.$emit("updateMarkerCount")}var n,s,r=this;this.toolCircle=new i.a.Tool,this.toolCircle.onMouseDown=t,this.toolCircle.onMouseDrag=e,this.toolCircle.onMouseUp=o}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{flat:"",block:""},nativeOn:{click:function(e){t.initialiseTool(e)}}},[o("i",{class:{fa:!0,"fa-circle":!0,faIcons:!this.active,faIconsActive:this.active}})])},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(23)}var i=o(24),a=o(25),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n);e.a={props:["paperScope","active","osdViewer"],data:function(){return{toolRect:null,strokeWidth:400,viewportZoom:this.osdViewer.viewport.getZoom(!0)}},methods:{initialiseTool:function(){this.paperScope.view.element.classList.contains("pointers-no")&&this.paperScope.view.element.classList.remove("pointers-no"),this.toolRect.activate(),this.viewportZoom=this.osdViewer.viewport.getZoom(!0);var t=this.osdViewer.world.getItemAt(0).getContentSize().x;this.strokeWidth=t/(500*this.viewportZoom)},calculateDistance:function(t,e){var o=t.x,n=t.y,i=e.x,a=e.y;return Math.sqrt(Math.pow(i-o,2)+Math.pow(a-n,2))}},created:function(){function t(t){n=t.point}function e(t){a=t.point,s.radius=s.calculateDistance(n,a);var e=new i.a.Path.Rectangle(n,a);e.strokeColor=new i.a.Color({hue:220,saturation:.7,lightness:.5,alpha:1}),e.strokeWidth=s.strokeWidth,e.removeOn({drag:!0,down:!0,up:!0})}function o(t){a=t.point;var e=new i.a.Path.Rectangle(n,a);e.strokeColor=new i.a.Color({hue:350,saturation:.7,lightness:.5,alpha:1}),e.strokeWidth=s.strokeWidth,e.fillColor=new i.a.Color({hue:350,saturation:.7,lightness:.5,alpha:.4})}var n,a,s=this;this.paperScope.project.deselectAll(),this.toolRect=new i.a.Tool,this.toolRect.onMouseDown=t,this.toolRect.onMouseDrag=e,this.toolRect.onMouseUp=o}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{flat:"",block:""},nativeOn:{click:function(e){t.initialiseTool(e)}}},[o("v-icon",{class:{"grey--text text--darken-2":!this.active,"blue--text text--darken-1":this.active}},[t._v("\n            crop_landscape\n    ")])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(27)}var i=o(28),a=o(29),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n);e.a={props:["paperScope","active","osdViewer"],data:function(){return{toolPen:null,hitOptions:null,strokeWidth:null,path:null}},methods:{initialiseTool:function(){this.paperScope.view.element.classList.contains("pointers-no")&&this.paperScope.view.element.classList.remove("pointers-no"),this.toolPen.activate();var t=this.osdViewer.viewport.getZoom(!0),e=this.osdViewer.world.getItemAt(0).getContentSize().x;this.strokeWidth=e/(500*t);var o=5*this.strokeWidth;this.hitOptions={segments:!0,tolerance:o}},newPath:function(){var t=(this.osdViewer.viewport.getZoom(!0),new i.a.Path);return t.strokeColor=new i.a.Color({hue:20,saturation:.7,lightness:.5,alpha:1}),t.strokeWidth=this.strokeWidth,t.selected=!0,t}},created:function(){function t(t){o.path&&o.path.data.active||(o.path=o.newPath(),o.path.data.active=!0);var e=o.path.hitTest(t.point,o.hitOptions);t.modifiers.option?(o.path.closed=!0,o.path.smooth(),o.path.selected=!1,o.path.data.active=!1):e&&e.segment==o.path.firstSegment?(o.path.closed=!0,o.path.fillColor=new i.a.Color({hue:20,saturation:.7,lightness:.5,alpha:.4}),o.path.smooth(),o.path.selected=!1,o.path.data.active=!1):e&&e.segment==o.path.lastSegment?(o.path.selected=!1,o.path.data.active=!1):(o.path.add(t.point),o.path.smooth())}function e(t){var e=o.paperScope.project.hitTest(t.point,o.hitOptions);e?e.segment==e.item.firstSegment?o.path.closed=!0:e.segment!=e.item.firstSegment&&e.segment!=e.item.lastSegment||(o.path.selected=!1):o.path&&o.path.data.active&&(o.path.selected=!0,o.path.closed=!1)}var o=this;this.toolPen=new i.a.Tool,this.toolPen.onMouseDown=t,this.toolPen.onMouseMove=e}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{flat:"",block:""},nativeOn:{click:function(e){t.initialiseTool(e)}}},[o("v-icon",{class:{"grey--text text--darken-2":!this.active,"blue--text text--darken-1":this.active}},[t._v("\n            timeline\n    ")])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(31)}var i=o(32),a=o(33),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n);e.a={props:["paperScope","active","osdViewer"],data:function(){return{toolPencil:null,hitOptions:null,strokeWidth:null,path:null}},methods:{initialiseTool:function(){this.paperScope.view.element.classList.contains("pointers-no")&&this.paperScope.view.element.classList.remove("pointers-no"),this.toolPencil.activate();var t=this.osdViewer.viewport.getZoom(!0),e=this.osdViewer.world.getItemAt(0).getContentSize().x;this.strokeWidth=e/(500*t);var o=5*this.strokeWidth;this.hitOptions={segments:!0,tolerance:o}},newPath:function(){var t=(this.osdViewer.viewport.getZoom(!0),new i.a.Path);return t.strokeColor=new i.a.Color({hue:200,saturation:.7,lightness:.5,alpha:1}),t.strokeWidth=this.strokeWidth,t.selected=!0,this.toolPencil.minDistance=5*this.strokeWidth,t}},created:function(){function t(t){n.path&&n.path.data.active||(n.path=n.newPath(),n.path.data.active=!0)}function e(t){n.path.add(t.point)}function o(t){var e=n.path.hitTest(t.point,n.hitOptions);e&&e.segment===n.path.firstSegment&&(n.path.closed=!0,n.path.fillColor=new i.a.Color({hue:200,saturation:.7,lightness:.5,alpha:.4})),n.path.selected=!1,n.path.simplify(),n.path.data.active=!1}var n=this;this.toolPencil=new i.a.Tool,this.toolPencil.onMouseDown=t,this.toolPencil.onMouseDrag=e,this.toolPencil.onMouseUp=o}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{flat:"",block:""},nativeOn:{click:function(e){t.initialiseTool(e)}}},[o("i",{class:{fa:!0,"fa-pencil":!0,faIcons:!this.active,faIconsActive:this.active}})])},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(35)}var i=o(36),a=o(37),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n),a=o(2);e.a={props:["paperScope","osdViewer","active"],data:function(){return{toolMove:null,selectOptions:null,strokeWidth:null}},methods:{initialiseTool:function(){this.paperScope.view.element.classList.contains("pointers-no")&&this.paperScope.view.element.classList.remove("pointers-no"),this.toolMove.activate();var t=this.osdViewer.viewport.getZoom(!0),e=this.osdViewer.world.getItemAt(0).getContentSize().x;this.strokeWidth=e/(500*t);var o=3*this.strokeWidth;this.selectOptions={segments:!0,stroke:!0,bounds:!0,handles:!0,fill:!0,tolerance:o}}},created:function(){function t(t){if(c=r.paperScope.project.hitTest(t.point,r.selectOptions),l&&l.bounds.contains(t.point)&&!t.modifiers.shift&&(!c||"bounds"!==c.type))return void(v="move");if(d=r.paperScope.project.getItems({className:"Path"}),l&&(l.bounds.selected=!1),!c||t.modifiers.shift||"bounds"===c.type||"fill"!==c.type&&"stroke"!==c.type&&"segment"!==c.type)c&&"bounds"===c.type?(v="transform",l&&(l.selected=!0,l.bounds.selected=!0)):t.modifiers.shift?(!c||"fill"!==c.type&&"stroke"!==c.type&&"segment"!==c.type||(l?l.addChild(c.item):l=new i.a.Group([c.item])),l&&(l.selected=!0,l.bounds.selected=!0),v="select"):(r.paperScope.project.deselectAll(),l=null,v="select");else{l&&(l.selected=!1),l=new i.a.Group([c.item]);for(var e in l.children)if(l.children[e].data.selectWith)for(var o in l.children[e].data.selectWith)l.addChild(l.children[e].data.selectWith[o]);l.selected=!0,l.bounds.selected=!0,v="move"}}function e(t){if("select"===v){var e=t.point.x-t.downPoint.x,o=t.point.y-t.downPoint.y;u.remove(),u=new i.a.Path.Rectangle(t.downPoint.x,t.downPoint.y,e,o),u.strokeColor="#4D88D4",u.fillColor="#A3C5E8",u.opacity=.4,u.strokeWidth=r.strokeWidth;for(var n in d)if(d.hasOwnProperty(n))if(d[n].isInside(u.bounds))d[n].selected=!0,p.push(d[n]);else{d[n].selected=!1;var a=p.indexOf(d[n]);a>-1&&p.splice(a,1)}}else if("move"===v)l.position=l.position.add(t.delta);else if("transform"===v){var s=null,h=null,f=null;c&&"top-left"===c.name?(s=t.point.x-l.bounds.topRight.x,h=t.point.y-l.bounds.bottomLeft.y,f=l.bounds.bottomRight):c&&"top-right"===c.name?(s=t.point.x-l.bounds.topLeft.x,h=t.point.y-l.bounds.bottomRight.y,f=l.bounds.bottomLeft):c&&"bottom-right"===c.name?(s=t.point.x-l.bounds.bottomLeft.x,h=t.point.y-l.bounds.topRight.y,f=l.bounds.topLeft):c&&"bottom-left"===c.name&&(s=t.point.x-l.bounds.bottomRight.x,h=t.point.y-l.bounds.topLeft.y,f=l.bounds.topRight);var m=Math.abs(s/l.bounds.width),g=Math.abs(h/l.bounds.height);l.scale(m,g,f)}}function o(t){if("select"===v&&(t.modifiers.shift?l?l.addChildren(p):l=new i.a.Group(p):(r.paperScope.project.deselectAll(),l=new i.a.Group(p)),l&&l.hasChildren())){for(var e in l.children)if(l.children[e].data.selectWith)for(var o in l.children[e].data.selectWith)l.addChild(l.children[e].data.selectWith[o]);l.selected=!0,l.bounds.selected=!0}v="",u.remove(),p=[],a.eventBus.$emit("selectionChanged",r.paperScope.project.selectedItems),a.eventBus.$emit("updateMarkerCount")}function n(t){c=r.paperScope.project.hitTest(t.point,r.selectOptions),l&&l.bounds.contains(t.point)&&!t.modifiers.shift?document.getElementById("paper-canvas").style.cursor="move":!c||"bottom-right"!==c.name&&"top-left"!==c.name?!c||"bottom-left"!==c.name&&"top-right"!==c.name?document.getElementById("paper-canvas").style.cursor="auto":document.getElementById("paper-canvas").style.cursor="nesw-resize":document.getElementById("paper-canvas").style.cursor="nwse-resize"}function s(t){"backspace"==t.key&&(r.paperScope.project.selectedItems&&r.paperScope.project.selectedItems.forEach(function(t){"Layer"!=t.className&&t.remove()}),a.eventBus.$emit("selectionChanged",r.paperScope.project.selectedItems),a.eventBus.$emit("updateMarkerCount"))}var r=this,c=null,l=null,p=[],u=new i.a.Path.Rectangle([0,0],0);u.remove();var v="",d=null;this.toolMove=new i.a.Tool,this.toolMove.onMouseDown=t,this.toolMove.onMouseDrag=e,this.toolMove.onMouseUp=o,this.toolMove.onMouseMove=n,this.toolMove.onKeyUp=s}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{flat:"",block:""},nativeOn:{click:function(e){t.initialiseTool(e)}}},[o("i",{class:{fa:!0,"fa-mouse-pointer":!0,faIcons:!this.active,faIconsActive:this.active}})])},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(39)}var i=o(40),a=o(41),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=(o.n(n),o(3));o.n(i);e.a={props:["paperScope","osdViewer","active"],data:function(){return{toolPan:null}},methods:{initialiseTool:function(){this.paperScope.view.element.setAttribute("class","pointers-no")}},created:function(){this.initialiseTool()}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{flat:"",block:""},nativeOn:{click:function(e){t.initialiseTool(e)}}},[this.active?o("v-icon",{staticClass:"blue--text text--darken-1"},[t._v("\n            lock_open\n    ")]):o("v-icon",{staticClass:"grey--text text--darken-2"},[t._v("\n        lock_outline\n    ")])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(43)}var i=o(44),a=o(45),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n);e.a={props:["paperScope","osdViewer","active"],data:function(){return{toolNode:null,hitOptions:null}},methods:{initialiseTool:function(){this.paperScope.view.element.classList.contains("pointers-no")&&this.paperScope.view.element.classList.remove("pointers-no"),this.toolNode.activate();var t=this.osdViewer.viewport.getZoom(!0),e=500/t;this.hitOptions={segments:!0,stroke:!0,bounds:!0,handles:!0,fill:!0,tolerance:e}}},created:function(){function t(t){n=i.a.project.hitTest(t.point,o.hitOptions),n?n.item.selected?"fill"===n.type||"stroke"===n.type?a="adding-node":"segment"===n.type?(n.item.segments.forEach(function(t){t===n.segment?t.selected=!0:t===n.segment.next?t.handleIn.selected=!0:t===n.segment.previous?t.handleOut.selected=!0:t.selected=!1}),a="adjusting-segment"):"handle-out"!==n.type&&"handle-in"!==n.type||(a="adjusting-handle"):(n.item.selected=!0,a="selecting"):o.paperScope.project.deselectAll()}function e(t){n&&"adjusting-segment"==a?n.segment.point=n.segment.point.add(t.delta):n&&"handle-out"==n.type&&"adjusting-handle"==a?n.segment.handleOut=n.segment.handleOut.add(t.delta):n&&"handle-in"==n.type&&"adjusting-handle"==a&&(n.segment.handleIn=n.segment.handleIn.add(t.delta))}var o=this,n=null,a=null;this.toolNode=new i.a.Tool,this.toolNode.onMouseDown=t,this.toolNode.onMouseDrag=e}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{flat:"",block:""},nativeOn:{click:function(e){t.initialiseTool(e)}}},[o("i",{class:{fa:!0,"fa-location-arrow":!0,faIcons:!this.active,faIconsActive:this.active}})])},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(47)}var i=o(48),a=o(49),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n),a=o(2);e.a={props:["paperScope","active","osdViewer"],data:function(){return{toolCount:null,strokeWidth:400,viewportZoom:this.osdViewer.viewport.getZoom(!0)}},methods:{initialiseTool:function(){this.paperScope.view.element.classList.contains("pointers-no")&&this.paperScope.view.element.classList.remove("pointers-no"),this.toolCount.activate(),this.viewportZoom=this.osdViewer.viewport.getZoom(!0);var t=this.osdViewer.world.getItemAt(0).getContentSize().x;this.strokeWidth=t/(500*this.viewportZoom),this.paperScope.project.deselectAll()},calculateDistance:function(t,e){var o=t.x,n=t.y,i=e.x,a=e.y;return Math.sqrt(Math.pow(i-o,2)+Math.pow(a-n,2))}},created:function(){function t(t){n=t.point,c=r.paperScope.project.getItems({className:"Path"})}function e(t){s=t.point;var e=new i.a.Path.Rectangle(n,s);e.strokeColor=new i.a.Color({hue:220,saturation:.7,lightness:.5,alpha:1}),e.strokeWidth=r.strokeWidth,e.removeOn({drag:!0,down:!0,up:!0})}function o(t){s=t.point;var e=new i.a.Path.Rectangle(n,s);e.strokeColor=new i.a.Color({hue:46,saturation:1,lightness:.65,alpha:1}),e.strokeWidth=r.strokeWidth;var o=new i.a.PointText(e.bounds.topLeft);o.translate(3*r.strokeWidth,2*-r.strokeWidth),o.fillColor="black",o.fontSize=12*r.strokeWidth+"px",o.data.rect=e,o.data.type="counter",a.eventBus.$emit("updateMarkerCount");var c=o.handleBounds.topRight.add(4*r.strokeWidth,0),l=new i.a.Path.Rectangle(e.strokeBounds.topLeft,c);l.fillColor=e.strokeColor,l.moveBelow(o),e.data.selectWith=[l,o],o.data.selectWith=[e,l,o],l.data.selectWith=[o,e]}var n,s,r=this,c=null;a.eventBus.$on("updateMarkerCount",function(){var t=r.paperScope.project.getItems({data:{type:"counter"}}),e=r.paperScope.project.getItems({className:"Path",data:{countable:!0}});for(var o in t){var n=0;console.log(t[o].data.rect.bounds);for(var i in e)e[i].isInside(t[o].data.rect.bounds)&&(n+=1);t[o].content=n}}),this.toolCount=new i.a.Tool,this.toolCount.onMouseDown=t,this.toolCount.onMouseDrag=e,this.toolCount.onMouseUp=o}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{flat:"",block:""},nativeOn:{click:function(e){t.initialiseTool(e)}}},[o("v-icon",{class:{"grey--text text--darken-2":!this.active,"blue--text text--darken-1":this.active}},[t._v("\n            filter_9_plus\n    ")])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pointers-please toolsPanel elevation-2"},[o("v-layout",[o("v-list",{attrs:{dense:"",id:"toolList"}},[o("v-list-tile",[t.config.steps[t.config.activeStep].tools.pan?o("app-pan",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer,active:"pan"===this.activeTool},nativeOn:{click:function(e){t.activeTool="pan"}}}):t._e()],1),t._v(" "),o("v-list-tile",[t.config.steps[t.config.activeStep].tools.circle?o("app-circle",{attrs:{paperScope:t.paperScope,active:"circle"===this.activeTool,osdViewer:t.osdViewer},nativeOn:{click:function(e){t.activeTool="circle"}}}):t._e()],1),t._v(" "),o("v-list-tile",[t.config.steps[t.config.activeStep].tools.rectangle?o("app-rectangle",{attrs:{paperScope:t.paperScope,active:"rectangle"===this.activeTool,osdViewer:t.osdViewer},nativeOn:{click:function(e){t.activeTool="rectangle"}}}):t._e()],1),t._v(" "),o("v-list-tile",[t.config.steps[t.config.activeStep].tools.pen?o("app-pen",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer,active:"pen"===this.activeTool},nativeOn:{click:function(e){t.activeTool="pen"}}}):t._e()],1),t._v(" "),o("v-list-tile",[t.config.steps[t.config.activeStep].tools.pencil?o("app-pencil",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer,active:"pencil"===this.activeTool},nativeOn:{click:function(e){t.activeTool="pencil"}}}):t._e()],1),t._v(" "),o("v-list-tile",[t.config.steps[t.config.activeStep].tools.move?o("app-move",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer,active:"move"===this.activeTool},nativeOn:{click:function(e){t.activeTool="move"}}}):t._e()],1),t._v(" "),o("v-list-tile",[t.config.steps[t.config.activeStep].tools.node?o("app-node",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer,active:"node"===this.activeTool},nativeOn:{click:function(e){t.activeTool="node"}}}):t._e()],1),t._v(" "),o("v-list-tile",[t.config.steps[t.config.activeStep].tools.count?o("app-count",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer,active:"count"===this.activeTool},nativeOn:{click:function(e){t.activeTool="count"}}}):t._e()],1)],1)],1)],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(52)}var i=o(53),a=o(54),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-234a7745",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n);e.a={props:["paperScope"],data:function(){return{imageData:""}},methods:{chooseFile:function(){this.$refs.uploadFile.click()},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.createImage(e[0]),this.imageFile=e[0])},createImage:function(t){var e=new FileReader,o=this;e.onload=function(t){o.imageData=t.target.result},e.readAsDataURL(t),this.addToPaper(t)},addToPaper:function(t){new i.a.Layer({name:t.name,position:this.paperScope.view.center}),new i.a.Raster(img)}}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pointers-please tools-container"},[o("v-card",[o("v-toolbar",[o("v-toolbar-title",[t._v("Image")]),t._v(" "),o("v-spacer")],1),t._v(" "),o("v-list",[o("v-list-item",[o("input",{ref:"uploadFile",attrs:{type:"file",id:"uploadFile"},on:{change:t.onFileChange}}),t._v(" "),o("v-btn",{attrs:{primary:"",dark:""},nativeOn:{click:function(e){t.chooseFile(e)}}},[o("v-icon",{staticClass:"white--text text--lighten-1"},[t._v("file_upload")])],1),t._v(" "),o("img",{attrs:{src:t.imageData,id:"img"}})],1)],1)],1)],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(56)}var i=o(57),a=o(90),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(58),i=o(78),a=o(82),s=o(86);e.a={props:["config","osdViewer","paperScope"],components:{"app-settings":n.a,"app-account":i.a,"app-home":a.a,"app-save":s.a}}},function(t,e,o){"use strict";function n(t){o(59)}var i=o(60),a=o(77),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-578f2cb4",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(61),i=o(65),a=o(69),s=o(73);e.a={props:["config","osdViewer","paperScope"],data:function(){return{dialog:!1,active:"Task",steps:!1,images:!1,annotations:!1,activeAnnotation:0,activeImage:0,activeStep:0}},components:{"app-tool-settings":n.a,"app-step-settings":i.a,"app-add-image":a.a,"app-add-annotation":s.a}}},function(t,e,o){"use strict";function n(t){o(62)}var i=o(63),a=o(64),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";e.a={props:["config"],data:function(){return{}}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-flex",{attrs:{xs12:""}},[o("v-list",{attrs:{"two-line":"",subheader:""}},t._l(t.config.tools,function(e){return o("v-list-item",{key:e.name},[o("v-list-tile",{attrs:{avatar:""}},[o("v-list-tile-action",[o("v-checkbox",{model:{value:e.include,callback:function(t){e.include=t},expression:"tool.include"}})],1),t._v(" "),o("v-list-tile-content",[o("v-list-tile-title",[t._v(" "+t._s(e.name)+" ")]),t._v(" "),o("v-list-tile-sub-title",[t._v(" "+t._s(e.caption))])],1)],1)],1)}))],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(66)}var i=o(67),a=o(68),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-602bc512",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";e.a={props:["config","step"],data:function(){return{title:""}}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h6",{staticClass:"step-id"},[t._v(" Step "+t._s(t.step+1)+" ")]),t._v(" "),o("div",[o("p",{staticClass:"label"},[t._v(" Tools required: ")]),t._v(" "),o("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:{html:t.config.tools.pan.caption},expression:"{ html: config.tools.pan.caption }",arg:"bottom"}],staticClass:"tool elevation-1",attrs:{small:"",flat:!t.config.steps[t.step].tools.pan},nativeOn:{click:function(e){t.config.steps[t.step].tools.pan=!t.config.steps[t.step].tools.pan}}},[o("i",{class:{fa:!0,"fa-lock":!0,faIcons:!0}})]),t._v(" "),o("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:{html:t.config.tools.circle.caption},expression:"{ html: config.tools.circle.caption }",arg:"bottom"}],staticClass:"tool elevation-1",attrs:{small:"",flat:!t.config.steps[t.step].tools.circle},nativeOn:{click:function(e){t.config.steps[t.step].tools.circle=!t.config.steps[t.step].tools.circle}}},[o("i",{class:{fa:!0,"fa-circle":!0,faIcons:!0}})]),t._v(" "),o("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:{html:t.config.tools.rectangle.caption},expression:"{ html: config.tools.rectangle.caption }",arg:"bottom"}],staticClass:"tool elevation-1",attrs:{small:"",flat:!t.config.steps[t.step].tools.rectangle},nativeOn:{click:function(e){t.config.steps[t.step].tools.rectangle=!t.config.steps[t.step].tools.rectangle}}},[o("v-icon",[t._v("\n                    crop_landscape\n            ")])],1),t._v(" "),o("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:{html:t.config.tools.pen.caption},expression:"{ html: config.tools.pen.caption }",arg:"bottom"}],staticClass:"tool elevation-1",attrs:{small:"",flat:!t.config.steps[t.step].tools.pen},nativeOn:{click:function(e){t.config.steps[t.step].tools.pen=!t.config.steps[t.step].tools.pen}}},[o("v-icon",[t._v("\n                    timeline\n            ")])],1),t._v(" "),o("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:{html:t.config.tools.pencil.caption},expression:"{ html: config.tools.pencil.caption }",arg:"bottom"}],staticClass:"tool elevation-1",attrs:{small:"",flat:!t.config.steps[t.step].tools.pencil},nativeOn:{click:function(e){t.config.steps[t.step].tools.pencil=!t.config.steps[t.step].tools.pencil}}},[o("i",{class:{fa:!0,"fa-pencil":!0,faIcons:!0}})]),t._v(" "),o("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:{html:t.config.tools.move.caption},expression:"{ html: config.tools.move.caption }",arg:"bottom"}],staticClass:"tool elevation-1",attrs:{small:"",flat:!t.config.steps[t.step].tools.move},nativeOn:{click:function(e){t.config.steps[t.step].tools.move=!t.config.steps[t.step].tools.move}}},[o("i",{class:{fa:!0,"fa-mouse-pointer":!0,faIcons:!0}})]),t._v(" "),o("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:{html:t.config.tools.node.caption},expression:"{ html: config.tools.node.caption }",arg:"bottom"}],staticClass:"tool elevation-1",attrs:{small:"",flat:!t.config.steps[t.step].tools.node},nativeOn:{click:function(e){t.config.steps[t.step].tools.node=!t.config.steps[t.step].tools.node}}},[o("i",{class:{fa:!0,"fa-location-arrow":!0,faIcons:!0}})])],1)])},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(70)}var i=o(71),a=o(72),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-77cec73d",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";e.a={props:["config","osdViewer"],data:function(){return{imageName:"",imagePath:"",errorToggle:!1,errorMessage:"",successToggle:!1}},methods:{addImage:function(){this.osdViewer.addTiledImage({tileSource:this.imagePath,x:0,y:0,opacity:.5,success:this.success,error:this.error})},error:function(t){var e=this;console.log(t.message),this.errorMessage=t.message,this.errorToggle=!0,setTimeout(function(){e.errorToggle=!1},3e3)},success:function(){var t=this,e=this.config.images.length+1;this.config.images.push({id:e,name:this.imageName,url:this.imagePath}),this.successToggle=!0,setTimeout(function(){t.successToggle=!1},3e3),this.imageName="",this.imagePath=""}}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h6",{staticClass:"step-id"},[t._v(" Add a new image ")]),t._v(" "),o("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.imageName,callback:function(e){t.imageName=e},expression:"imageName"}}),t._v(" "),o("v-text-field",{attrs:{label:"Tile Source URL",required:""},model:{value:t.imagePath,callback:function(e){t.imagePath=e},expression:"imagePath"}}),t._v(" "),o("v-btn",{staticClass:"indigo--text add-button",attrs:{outline:""},nativeOn:{click:function(e){t.addImage()}}},[t._v("\n            Add\n    ")]),t._v(" "),o("v-alert",{attrs:{success:"",value:t.successToggle,transition:"scale-transition"}},[t._v("\n      Image successfully added.\n    ")]),t._v(" "),o("v-alert",{attrs:{error:"",value:t.errorToggle,transition:"scale-transition"}},[t._v("\n      Error: "+t._s(t.errorMessage)+"\n    ")])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(74)}var i=o(75),a=o(76),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-72766886",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";e.a={props:["config","osdViewer","paperScope"],data:function(){return{annotationName:"",annotationString:"",errorToggle:!1,errorMessage:"",successToggle:!1}},methods:{addAnnotation:function(){this.paperScope.project.importJSON(this.annotationString)},error:function(t){var e=this;console.log(t.message),this.errorMessage=t.message,this.errorToggle=!0,setTimeout(function(){e.errorToggle=!1},3e3)},success:function(){var t=this;this.successToggle=!0,setTimeout(function(){t.successToggle=!1},3e3),this.annotationName="",this.annotationString=""}}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h6",{staticClass:"step-id"},[t._v(" Add a new annotation ")]),t._v(" "),o("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.annotationName,callback:function(e){t.annotationName=e},expression:"annotationName"}}),t._v(" "),o("v-text-field",{attrs:{label:"JSON string",required:""},model:{value:t.annotationString,callback:function(e){t.annotationString=e},expression:"annotationString"}}),t._v(" "),o("v-btn",{staticClass:"indigo--text add-button",attrs:{outline:""},nativeOn:{click:function(e){t.addAnnotation()}}},[t._v("\n            Add\n    ")]),t._v(" "),o("v-alert",{attrs:{success:"",value:t.successToggle,transition:"scale-transition"}},[t._v("\n      Annotation successfully added.\n    ")]),t._v(" "),o("v-alert",{attrs:{error:"",value:t.errorToggle,transition:"scale-transition"}},[t._v("\n      Error: "+t._s(t.errorMessage)+"\n    ")])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{staticClass:"pointers-please",attrs:{scrollable:"",width:"75%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-icon",{slot:"activator"},[t._v("\n        settings\n    ")]),t._v(" "),o("v-card",[o("v-card-title",[t._v("\n            Settings\n        ")]),t._v(" "),o("v-divider"),t._v(" "),o("v-layout",[o("v-flex",{attrs:{xs3:"",id:"tabs-column"}},[o("v-list",{attrs:{id:"settings-list",dense:""}},[o("v-list-group",{attrs:{"no-action":""},model:{value:t.steps,callback:function(e){t.steps=e},expression:"steps"}},[o("v-list-tile",{slot:"item"},[o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"tile-title"},[t._v("\n                                    Task\n                                ")])],1),t._v(" "),o("v-list-tile-action",{staticClass:"action"},[o("v-icon",[t._v("\n                                    keyboard_arrow_down\n                                ")])],1)],1),t._v(" "),t._l(t.config.steps,function(e,n){return o("v-list-tile",{key:n,class:{"option-active":t.config.activeStep===n},nativeOn:{click:function(e){t.config.activeStep=n,t.active=""}}},[o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"tile-title"},[t._v("\n                                    Step "+t._s(n+1)+"\n                                ")])],1)],1)}),t._v(" "),o("v-list-tile",[o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"tile-title",nativeOn:{click:function(e){t.active="addStep"}}},[o("v-icon",{staticClass:"add_icon"},[t._v("\n                                        add_circle_outline\n                                    ")])],1)],1)],1)],2),t._v(" "),o("v-list-group",{attrs:{"no-action":""},model:{value:t.images,callback:function(e){t.images=e},expression:"images"}},[o("v-list-tile",{slot:"item"},[o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"tile-title"},[t._v("\n                                    Images\n                                ")])],1),t._v(" "),o("v-list-tile-action",{staticClass:"action"},[o("v-icon",[t._v("\n                                    keyboard_arrow_down\n                                ")])],1)],1),t._v(" "),t._l(t.config.images,function(e,n){return o("v-list-tile",{key:n,class:{"option-active":t.activeImage===n},nativeOn:{click:function(e){t.activeImage=n,t.active=""}}},[o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"tile-title"},[t._v("\n                                    "+t._s(e.name)+"\n                                ")])],1)],1)}),t._v(" "),o("v-list-tile",{class:{"option-active":"add"===t.activeImage},nativeOn:{click:function(e){t.activeImage="add",t.active="addImage"}}},[o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"tile-title"},[o("v-icon",{staticClass:"add_icon"},[t._v("\n                                        add_circle_outline\n                                    ")])],1)],1)],1)],2),t._v(" "),o("v-list-group",{attrs:{"no-action":""},model:{value:t.annotations,callback:function(e){t.annotations=e},expression:"annotations"}},[o("v-list-tile",{slot:"item"},[o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"tile-title",nativeOn:{click:function(e){t.active=""}}},[t._v("\n                                    Annotations\n                                ")])],1),t._v(" "),o("v-list-tile-action",{staticClass:"action"},[o("v-icon",[t._v("keyboard_arrow_down")])],1)],1),t._v(" "),o("v-list-tile",{class:{"option-active":"add"===t.activeAnnotation},nativeOn:{click:function(e){t.activeAnnotation="add",t.active="addAnnotation"}}},[o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"tile-title"},[o("v-icon",{staticClass:"add_icon"},[t._v("\n                                        add_circle_outline\n                                    ")])],1)],1)],1)],1)],1)],1),t._v(" "),o("v-flex",{attrs:{xs9:""}},[o("v-layout",[o("v-flex",[o("v-card-text",[t.steps?o("app-step-settings",{attrs:{config:t.config,step:t.config.activeStep}}):t._e(),t._v(" "),t.images&&"addImage"===t.active?o("app-add-image",{attrs:{config:t.config,osdViewer:t.osdViewer}}):t._e(),t._v(" "),t.annotations&&"addAnnotation"===t.active?o("app-add-annotation",{attrs:{config:t.config,osdViewer:t.osdViewer,paperScope:t.paperScope}}):t._e()],1)],1)],1)],1)],1),t._v(" "),o("v-divider"),t._v(" "),o("v-layout",{attrs:{actions:""}},[o("v-btn",{staticClass:"blue--text darken-1",attrs:{flat:""},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("\n                Close\n            ")])],1)],1)],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(79)}var i=o(80),a=o(81),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-e8f2323c",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";e.a={}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-menu",{staticClass:"pointers-please",attrs:{"offset-y":"","nudge-right":30,"nudge-bottom":5}},[o("v-icon",{slot:"activator"},[t._v("\n        account_circle\n    ")]),t._v(" "),o("v-list",{staticClass:"pointers-please",attrs:{dense:""}},[o("v-list-tile",[o("v-list-tile-title",{attrs:{id:"title"}},[t._v("\n                Log out\n            ")])],1)],1)],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(83)}var i=o(84),a=o(85),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";e.a={}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{icon:"",href:"https://imageannotation.nds.ox.ac.uk:8443/AIDA/"}},[o("v-icon",[t._v("\n        home\n    ")])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(87)}var i=o(88),a=o(89),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";e.a={props:["paperScope"],methods:{exportJSON:function(){console.log(this.paperScope.project.exportJSON())}}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.exportJSON(e)}}},[o("v-icon",[t._v("\n        save\n    ")])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-toolbar",{staticClass:"primary pointers-please",attrs:{dark:"",dense:""}},[o("v-toolbar-title",{staticClass:"white--text"},[t._v("AIDA")]),t._v(" "),o("v-spacer"),t._v(" "),o("app-home"),t._v(" "),o("app-save",{attrs:{paperScope:t.paperScope}}),t._v(" "),o("v-btn",{staticClass:"pointers-no",attrs:{icon:""}},[o("app-settings",{attrs:{config:t.config,osdViewer:t.osdViewer,paperScope:t.paperScope}})],1),t._v(" "),o("v-btn",{staticClass:"pointers-no",attrs:{icon:""}},[o("app-account")],1)],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(92)}var i=o(93),a=o(111),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-c071e3f4",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(94),i=o(98),a=o(102);e.a={props:["paperScope","osdViewer","config"],components:{"app-layers":n.a,"app-channels":i.a,"app-properties":a.a}}},function(t,e,o){"use strict";function n(t){o(95)}var i=o(96),a=o(97),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-56a0b91c",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=o.n(n);e.a={props:["paperScope"],data:function(){return{editingLayer:null,beforeEditCache:null}},created:function(){this.paperScope.project.activeLayer.name||(this.paperScope.project.activeLayer.name="Layer 1")},methods:{editLayerName:function(t){this.beforeEditCache=t.name,this.editingLayer=t.id},finishedEdit:function(t){this.editingLayer&&(this.editingLayer=null,void 0==t.name?t.name="Untitled Layer":t.name=t.name.trim())},cancelEdit:function(t){this.editingLayer=null,t.name=this.beforeEditCache},newLayer:function(){var t=this.paperScope.project.layers.length+1,e=new i.a.Layer({name:"Layer "+t,position:this.paperScope.view.center});this.selectLayer(e)},selectLayer:function(t){this.paperScope.project.layers.forEach(function(t){t.selected=!1}),t.selected=!0,t.activate()},addToSelection:function(t){t.selected=!0},exportJSON:function(t){t.activate(),console.log(this.paperScope.project.activeLayer.exportJSON())}}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"elevation-1"},[o("v-card",{staticClass:"panel"},[o("v-toolbar",{attrs:{dense:"",id:"toolbar"}},[o("v-toolbar-title",{attrs:{id:"title"}},[t._v("\n                Layers\n            ")]),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.newLayer(e)}}},[o("v-icon",{attrs:{id:"iconButton"}},[t._v("\n                    tab\n                ")])],1)],1),t._v(" "),o("v-list",{attrs:{dense:"",id:"list"}},t._l(t.paperScope.project.layers,function(e){return o("v-list-tile",{key:e.id,attrs:{id:"tile"},nativeOn:{click:[function(o){t.selectLayer(e)},function(o){if(!o.shiftKey)return null;t.addToSelection(e)}],dblclick:function(o){t.editLayerName(e)}}},[o("v-list-tile-content",{attrs:{id:"content"}},[t.editingLayer!=e.id?o("v-list-tile-title",{class:[e==t.paperScope.project.activeLayer?"faIconsActive":"faIcons"],attrs:{id:"name"}},[t._v("\n                        "+t._s(e.name)+"\n                    ")]):t._e(),t._v(" "),t.editingLayer==e.id?o("v-text-field",{attrs:{id:"nameEdit",autofocus:"","single-line":""},on:{blur:function(o){t.finishedEdit(e)}},nativeOn:{keyup:[function(o){if(!("button"in o)&&t._k(o.keyCode,"enter",13))return null;t.finishedEdit(e)},function(o){if(!("button"in o)&&t._k(o.keyCode,"esc",27))return null;t.cancelEdit(e)}]},model:{value:e.name,callback:function(t){e.name=t},expression:"layer.name"}},[t._v("\n                    >")]):t._e()],1),t._v(" "),o("v-list-tile-action",[o("v-btn",{attrs:{icon:"",id:"action"},nativeOn:{click:function(o){t.exportJSON(e)}}},[o("v-icon",{attrs:{id:"iconButton"}},[t._v("\n                            save\n                        ")])],1)],1)],1)}))],1)],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(99)}var i=o(100),a=o(101),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-69423500",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1);o.n(n);e.a={props:["paperScope","osdViewer","config"],data:function(){return{channels:[],value1:0}},created:function(){var t=this;this.osdViewer.world.addHandler("add-item",function(){t.channels.push({id:t.channels.length,opacity:100*t.getOpacity(t.channels.length),slider:!1})}),this.osdViewer.world.addHandler("remove-item",function(){t.channels=[];var e=t.osdViewer.world.getItemCount();for(i=0;i<e;i++)t.channels.push({id:t.channels.length,opacity:100*t.getOpacity(t.channels.length)})})},methods:{toggleVisibility:function(t){var e=this.osdViewer.world.getItemAt(t);0===e.getOpacity()?(e.setOpacity(.5),this.channels[t].opacity=50):(e.setOpacity(0),this.channels[t].opacity=0)},isVisible:function(t){return this.osdViewer.world.getItemAt(t).getOpacity()>0},getOpacity:function(t){return this.osdViewer.world.getItemAt(t).getOpacity()},onInput:function(t,e){this.osdViewer.world.getItemAt(t).setOpacity(e/100)}}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"elevation-1"},[o("v-card",{staticClass:"panel"},[o("v-toolbar",{attrs:{dense:"",id:"toolbar"}},[o("v-toolbar-title",{attrs:{id:"title"}},[t._v("\n                Channels\n            ")]),t._v(" "),o("v-spacer")],1),t._v(" "),o("v-list",{attrs:{dense:"",id:"list"}},t._l(t.channels,function(e,n){return o("v-list-group",{key:n,attrs:{"no-action":""}},[o("v-list-tile",{attrs:{id:"tile"},slot:"item"},[o("v-list-tile-content",{attrs:{id:"content"}},[o("v-list-tile-title",{attrs:{id:"name"}},[t._v("\n                                "+t._s(t.config.images[n].name)+"\n                            ")])],1),t._v(" "),o("v-list-tile-action",[o("v-btn",{attrs:{icon:"",id:"action"},nativeOn:{click:function(e){t.toggleVisibility(n)}}},[t.isVisible(n)?o("v-icon",{attrs:{id:"iconButton"}},[t._v("\n                                    visibility\n                                ")]):o("v-icon",{attrs:{id:"iconButton"}},[t._v("\n                                    visibility_off\n                                ")])],1)],1)],1),t._v(" "),o("v-list-tile",{staticClass:"slider-tile"},[o("v-list-tile-content",{attrs:{id:"slider-content"}},[o("v-slider",{on:{input:function(o){t.onInput(n,e.opacity)}},model:{value:e.opacity,callback:function(t){e.opacity=t},expression:"channel.opacity"}})],1)],1)],1)}))],1)],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(103)}var i=o(104),a=o(110),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-062a223a",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(1),i=(o.n(n),o(2)),a=o(105);e.a={props:["paperScope","osdViewer"],data:function(){return{numItems:0,groupFillColor:{style:"transparent",obj:{h:0,s:0,l:0,a:0}},groupStrokeWidth:"",groupStrokeColor:{style:"transparent",obj:{h:0,s:0,l:0,a:0}},color:"blue"}},components:{"colour-picker":a.a},created:function(){var t=this;i.eventBus.$on("selectionChanged",function(e){e.length>=1?(t.numItems=0,e.forEach(function(e){if("Group"===e.className){if(e.fillColor){var o=e.fillColor.hue,n=100*e.fillColor.saturation+"%",i=100*e.fillColor.lightness+"%",a=e.fillColor.alpha;t.groupFillColor.style="hsla("+o+", "+n+", "+i+", "+a+")",t.groupFillColor.obj={h:o,s:n,l:i,a:a}}else t.groupFillColor.style="transparent",t.groupFillColor.obj={h:0,s:0,l:0,a:0};if(e.strokeColor){var o=e.strokeColor.hue,n=100*e.strokeColor.saturation+"%",i=100*e.strokeColor.lightness+"%",a=e.strokeColor.alpha;t.groupStrokeColor.style="hsla("+o+", "+n+", "+i+", "+a+")",t.groupStrokeColor.obj={h:o,s:n,l:i,a:a}}else t.groupStrokeColor.style="transparent",t.groupStrokeColor.obj={h:0,s:0,l:0,a:0}}else t.numItems++})):(t.numItems=0,t.groupFillColor={style:"transparent",obj:{h:0,s:0,l:0,a:0}},t.groupStrokeWidth="",t.groupStrokeColor={style:"transparent",obj:{h:0,s:0,l:0,a:0}})})}}},function(t,e,o){"use strict";function n(t){o(106)}var i=o(107),a=o(109),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-103dc251",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(108),i=(o.n(n),o(1)),a=o.n(i),s=o(2);e.a={props:["paperScope","color","type"],data:function(){return{dialog:!1,colorPick:this.color.obj}},watch:{dialog:function(t){if(!0===t)this.colorPick=this.color.obj;else if(!1===t&&this.paperScope.project.selectedItems.length>1){var e=this.paperScope.project.getItem({selected:!0,className:"Group"});"fill"===this.type?e.fillColor=new a.a.Color({hue:this.colorPick.hsl.h,saturation:this.colorPick.hsl.s,lightness:this.colorPick.hsl.l,alpha:this.colorPick.hsl.a}):"stroke"===this.type&&(e.strokeColor=new a.a.Color({hue:this.colorPick.hsl.h,saturation:this.colorPick.hsl.s,lightness:this.colorPick.hsl.l,alpha:this.colorPick.hsl.a})),s.eventBus.$emit("selectionChanged",this.paperScope.project.selectedItems)}}},components:{"colour-picker":n.Chrome}}},,function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{width:"225px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("a",{slot:"activator"},[o("div",{staticClass:"color-tile",style:{"background-color":t.color.style}})]),t._v(" "),o("v-card",[o("colour-picker",{attrs:{id:"picker"},model:{value:t.colorPick,callback:function(e){t.colorPick=e},expression:"colorPick"}})],1)],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"elevation-1"},[o("v-card",{staticClass:"panel"},[o("v-toolbar",{attrs:{dense:"",id:"toolbar"}},[o("v-toolbar-title",{attrs:{id:"title"}},[t._v("\n                Properties\n            ")]),t._v(" "),o("v-spacer")],1),t._v(" "),o("v-list",{attrs:{dense:"",id:"list"}},[o("v-list-tile",{attrs:{id:"tile"}},[o("v-list-tile-content",{staticClass:"content"},[o("v-list-tile-title",{staticClass:"name"},[t._v("\n                        No. selected items:\n                    ")])],1),t._v(" "),o("v-list-tile-action",[o("span",{staticClass:"number"},[t._v("\n                        "+t._s(t.numItems)+"\n                    ")])])],1),t._v(" "),o("v-list-tile",{attrs:{id:"tile"}},[o("v-list-tile-content",{staticClass:"content"},[o("v-list-tile-title",{staticClass:"name"},[t._v("\n                        Fill colour:\n                    ")])],1),t._v(" "),o("v-list-tile-action",[o("v-btn",{staticClass:"action pointers-no",attrs:{icon:""}},[o("colour-picker",{staticClass:"pointers-please",attrs:{paperScope:t.paperScope,color:t.groupFillColor,type:"fill"}})],1)],1)],1),t._v(" "),o("v-list-tile",{attrs:{id:"tile"}},[o("v-list-tile-content",{staticClass:"content"},[o("v-list-tile-title",{staticClass:"name"},[t._v("\n                        Stroke colour:\n                    ")])],1),t._v(" "),o("v-list-tile-action",[o("v-btn",{staticClass:"action pointers-no",attrs:{icon:""}},[o("colour-picker",{staticClass:"pointers-please",attrs:{paperScope:t.paperScope,color:t.groupStrokeColor,type:"stroke"}})],1)],1)],1)],1)],1)],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pointers-please studioPanel elevation-2"},[o("app-layers",{attrs:{paperScope:t.paperScope}}),t._v(" "),o("app-channels",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer,config:t.config}}),t._v(" "),o("app-properties",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer}})],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(113)}var i=o(114),a=o(115),s=o(0),r=n,c=s(i.a,a.a,r,null,null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";var n=o(2);e.a={data:function(){return{hint:null}},created:function(){n.eventBus.$on("toolActivated",function(t){})}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-footer",{staticClass:"pa-3"},[o("div"),t._v(" "),o("v-spacer"),t._v(" "),o("div",[t._v("© "+t._s((new Date).getFullYear()))])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";function n(t){o(117)}var i=o(118),a=o(119),s=o(0),r=n,c=s(i.a,a.a,r,"data-v-549196c8",null);e.a=c.exports},function(t,e){},function(t,e,o){"use strict";e.a={props:["config"],computed:{activeStep:function(){return this.config.activeStep}},methods:{setActive:function(t){this.config.activeStep=t}}}},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pointers-please stepper"},[o("v-stepper",{attrs:{"non-linear":""}},[o("v-stepper-header",t._l(t.config.steps,function(e,n){return o("div",{key:n},[o("v-stepper-step",{attrs:{step:e.id,editable:""},nativeOn:{click:function(e){t.setActive(n)}}}),t._v(" "),o("v-divider")],1)}))],1),t._v(" "),o("div",{staticClass:"hint-card"},[o("p",{staticClass:"hint"},[t._v("\n            "+t._s(t.config.steps[t.config.activeStep].instruction)+"\n        ")])])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{toolbar:"","pointer-events":"none"}},[o("header",[o("app-toolbar",{attrs:{config:t.config,osdViewer:t.osdViewer,paperScope:t.paperScope}})],1),t._v(" "),o("main",[o("v-container",{staticClass:"content-container",attrs:{fluid:""}},[o("v-layout",{staticClass:"content-container"},[o("v-flex",{attrs:{id:"leftPanel"}},[o("app-tools",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer,config:t.config}})],1),t._v(" "),o("v-flex",{attrs:{id:"center-col"}},[o("app-stepper",{attrs:{config:t.config}})],1),t._v(" "),o("v-flex",{attrs:{id:"rightPanel"}},[o("app-studio",{attrs:{paperScope:t.paperScope,osdViewer:t.osdViewer,config:t.config}})],1)],1)],1)],1)])},i=[],a={render:n,staticRenderFns:i};e.a=a}],[2]);
//# sourceMappingURL=app.bd6981dce0bc8ffe2a7f.js.map